"use strict";function _createForOfIteratorHelper(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}window.onbeforeunload=function(){window.scrollTo(0,0)};var slideUp=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:500;e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(function(){e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")},t)},slideDown=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:500;e.style.removeProperty("display");var r=window.getComputedStyle(e).display;e.style.display=r="none"===r?"block":r;r=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=r+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(function(){e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")},t)},slideToggle=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:500;return("none"===window.getComputedStyle(e).display?slideDown:slideUp)(e,t)};window.onload=function(){$(".form").validate({errorClass:"invalid",errorPlacement:function(e,t){},rules:{user_name:{required:!0},user_email:{required:!0,email:!0},user_phone:{required:!0},user_datebirth:{required:!0},dentist_name:{required:!0},dentist_address:{required:!0},dentist_email:{required:!0,email:!0},dentist_phone:{required:!0},dentist_gdc:{required:!0}},submitHandler:function(){var e=$(".tooth__checkbox");if(0<e.length&&$(".tooth__checkbox:checked").length<1)return e.parents(".tooth__item").addClass("invalid"),e[0].focus(),!1;form.submit()}});var a=document.querySelector(".burger"),c=document.querySelector(".header"),d=document.querySelectorAll(".technology-card"),u=document.querySelector(".treatments"),p=document.querySelector(".treatments-sidebar"),f=document.querySelector(".treatments .dropdown__trigger"),m=document.querySelector(".treatments .dropdown__item"),v=document.querySelectorAll(".treatments-sidebar a");if(p){var e=function(e){e.preventDefault();e=this.getAttribute("href"),e=document.querySelector(e).offsetTop+200;scroll({top:e,behavior:"smooth"})},t=document.querySelectorAll(".treatments-content__item"),r=document.querySelector(".treatments-sidebar a").offsetHeight,n=document.querySelectorAll(".treatments-sidebar a");window.addEventListener("scroll",function(){t.forEach(function(e){e.offsetTop-150<=(document.documentElement.scrollTop||document.body.scrollTop)+r&&(n.forEach(function(e){e.parentElement.classList.remove("js-current"),e.parentElement.removeAttribute("class")}),e=e.getAttribute("id"),document.querySelector('a[href="#'.concat(e,'"]')).parentElement.classList.add("js-current"),f.firstChild.textContent=document.querySelector(".treatments-sidebar li.js-current a").textContent)})});var o,i=_createForOfIteratorHelper(linksScroll);try{for(i.s();!(o=i.n()).done;)o.value.addEventListener("click",e)}catch(e){i.e(e)}finally{i.f()}}window.addEventListener("scroll",function(){1<=$(window).scrollTop()?(c.classList.add("js-scroll-down"),c.classList.remove("js-scroll-top")):(c.classList.add("js-scroll-top"),c.classList.remove("js-scroll-down","js-nav-open","js-nav-close"))}),OverlayScrollbars(document.querySelectorAll(".tooth"),{});var s,l,y,h=document.querySelector(".files__table"),g=new DataTransfer;$("#file").on("change",function(e){for(var t=0;t<this.files.length;t++){var r=$("<div/>",{class:"files__wrapper"});$("<files-item/>",{class:"name",text:this.files.item(t).name});r.append('<div class="files-item"><i class="icon-file"></i><span class="files-item__name">'.concat(this.files.item(t).name,'</span><i class="files-item__remove icon-trash-can"></i><div><div>')),$(".files__table").append(r)}var n,o=_createForOfIteratorHelper(this.files);try{for(o.s();!(n=o.n()).done;){var i=n.value;g.items.add(i)}}catch(e){o.e(e)}finally{o.f()}this.files=g.files,0<=this.files.length?h.style.display="flex":h.style.display="none",$(".files-item__remove").click(function(){var e=$(this).parent().find(".files-item__name").text();$(this).parents(".files__wrapper").remove();for(var t=0;t<g.items.length;t++)e!==g.items[t].getAsFile().name||g.items.remove(t);document.getElementById("file").files=g.files})}),window.matchMedia("(min-width: 992px)").matches?(a.addEventListener("click",function(){c.classList.contains("js-nav-open")?(c.classList.remove("js-nav-open"),c.classList.add("js-nav-close")):(c.classList.add("js-nav-open"),c.classList.remove("js-nav-close"))}),$(".technology__wrapper").click(function(){$(".technology__wrapper").not($(this).closest(".technology__wrapper")).removeClass("js-active"),$(this).closest(".technology__wrapper").addClass("js-active"),$(this).hasClass("js-active")&&($(".technology-card__body").not($(this).find(".technology-card__body")).slideUp(300),$(this).find(".technology-card__body").slideDown(300))}),document.querySelector(".horizontal-scroll")&&(gsap.registerPlugin(ScrollTrigger),s=gsap.utils.toArray(".horizontal-scroll"),l=0,(y=function(){l=0,s.forEach(function(e){l+=e.offsetWidth})})(),ScrollTrigger.addEventListener("refreshInit",y),y=document.querySelector(".treatments"),gsap.to(s,{x:function(){return"-".concat(l-window.innerWidth)},ease:"none",scrollTrigger:{start:"-120px top",trigger:y,pin:!0,scrub:!0,end:function(){return"+=".concat(l)},invalidateOnRefresh:!0}}),s.forEach(function(e,t){ScrollTrigger.create({trigger:e,start:function(){return"top top-="+(e.offsetLeft-window.innerWidth/2)*(l/(l-window.innerWidth))},end:function(){return"+="+e.offsetWidth*(l/(l-window.innerWidth))},toggleClass:{targets:e,className:"active"}})}))):function(){for(var t,r=document.querySelectorAll(".show__trigger"),n=document.querySelectorAll(".show__item"),e=0;e<r.length;e++)!function(e){r[e].addEventListener("click",function(){r[e].classList.toggle("js-active"),r[e].classList.contains("js-active")?(r[e].textContent="See less",n.forEach(function(e){e.style.display="block"})):(r[e].textContent="See all",n.forEach(function(e){e.style.display="none"}))})}(e);if(p){var o,i=function(e){e.preventDefault();e=this.getAttribute("href"),e=document.querySelector(e).offsetTop-150;scroll({top:e,behavior:"smooth"})},s=_createForOfIteratorHelper(linksScroll);try{for(s.s();!(o=s.n()).done;)o.value.addEventListener("click",i)}catch(e){s.e(e)}finally{s.f()}}f&&m&&(t=m.offsetHeight,document.documentElement.style.setProperty("--treatments-dropdown-offset",t+"px"),window.addEventListener("scroll",function(){if(window.scrollY>t+64){if(p.classList.add("js-scroll-down"),u.classList.add("offset-top"),m.style.display="none",p.classList.contains("js-scroll-down"))for(var e=0;e<v.length;e++)!function(e){v[e].addEventListener("click",function(){v.forEach(function(e){e.parentElement.classList.remove("js-current"),e.parentElement.removeAttribute("class")}),v[e].parentElement.classList.add("js-current"),f.firstChild.textContent=v[e].textContent})}(e)}else p.classList.remove("js-scroll-down"),m.style.display="block",u.classList.remove("offset-top")}),p.addEventListener("click",function(){f.classList.toggle("js-active"),slideToggle(m,300)}),f.firstChild.textContent=document.querySelector(".treatments-sidebar li.js-current a").textContent),a.addEventListener("click",function(){c.classList.toggle("js-nav-open"),document.body.classList.toggle("js-lock")});for(var l=0;l<d.length;l++)!function(e){d[e].addEventListener("click",function(){d.forEach(function(e){e.classList.remove("js-active")}),d[e].classList.add("js-active")})}(l);new Swiper(".treatments-slider",{slidesPerView:1,spaceBetween:30,navigation:{nextEl:".treatments-button-next",prevEl:".treatments-button-prev"},pagination:{el:".treatments-pagination"},breakpoints:{768:{slidesPerView:2}}})}();new Swiper(".practices-slider",{slidesPerView:1,spaceBetween:40,navigation:{nextEl:".practices-button-next",prevEl:".practices-button-prev"},pagination:{el:".practices-pagination"},breakpoints:{768:{slidesPerView:2}}}),new Swiper(".testimonials-slider",{slidesPerView:1,spaceBetween:30,loop:!0,navigation:{nextEl:".testimonials-button-next",prevEl:".testimonials-button-prev"},pagination:{el:".testimonials-pagination"},breakpoints:{768:{slidesPerView:2},992:{slidesPerView:"auto",centeredSlides:!0}}}),new Swiper(".cases-slider",{slidesPerView:1,spaceBetween:30,navigation:{nextEl:".cases-button-next",prevEl:".cases-button-prev"},pagination:{el:".cases-pagination"},breakpoints:{768:{slidesPerView:2}}}),new Swiper(".socials__slider",{slidesPerView:1,spaceBetween:30,navigation:{nextEl:".socials-button-next",prevEl:".socials-button-prev"},pagination:{el:".socials-pagination"},breakpoints:{768:{slidesPerView:2},992:{slidesPerView:5}}})};var _step4,linksScroll=document.querySelectorAll(".scroll__link"),_iterator4=_createForOfIteratorHelper(linksScroll);try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var link=_step4.value;link.addEventListener("click",clickHandler)}}catch(e){_iterator4.e(e)}finally{_iterator4.f()}function clickHandler(e){e.preventDefault();e=this.getAttribute("href"),e=document.querySelector(e).offsetTop-150;scroll({top:e,behavior:"smooth"})}var textarea=document.querySelector("textarea");function autosizeTextarea(){var e=this;setTimeout(function(){e.style.cssText="height:auto; padding:0",e.style.cssText="-moz-box-sizing:content-box",e.style.cssText="height:"+e.scrollHeight+"px"},0)}textarea&&textarea.addEventListener("keydown",autosizeTextarea),$("select").each(function(){var t=$(this),e=$(this).children("option").length;t.addClass("select__hidden"),t.wrap('<div class="select"></div>'),t.after('<div class="select__styled"></div>');var r=t.next("div.select__styled");r.append('<span></span><i class="icon-arrow-dropdown"></i>'),r.find("span").text(t.children("option").eq(0).text());for(var n=$("<ul />",{class:"select__options"}).insertAfter(r),o=0;o<e;o++)$("<li />",{text:t.children("option").eq(o).text(),rel:t.children("option").eq(o).val()}).appendTo(n);var i=n.children("li");r.click(function(e){e.stopPropagation(),$("div.select__styled.active").not(this).each(function(){$(this).removeClass("active").next("ul.select__options").slideUp(300)}),$(this).toggleClass("active").next("ul.select__options").slideToggle(300)}),i.click(function(e){e.stopPropagation(),r.find("span").text($(this).text()).removeClass("active"),t.val($(this).attr("rel")),n.slideUp(300)}),$(document).click(function(){r.removeClass("active"),n.slideUp(300)})});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJVSS9jb250YWN0cy1mb3JtL2NvbnRhY3RzLWZvcm0uanMiXSwibmFtZXMiOlsid2luZG93Iiwib25iZWZvcmV1bmxvYWQiLCJzY3JvbGxUbyIsInNsaWRlVXAiLCJ0YXJnZXQiLCJkdXJhdGlvbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsInN0eWxlIiwidHJhbnNpdGlvblByb3BlcnR5IiwidHJhbnNpdGlvbkR1cmF0aW9uIiwiaGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0Iiwib3ZlcmZsb3ciLCJwYWRkaW5nVG9wIiwicGFkZGluZ0JvdHRvbSIsIm1hcmdpblRvcCIsIm1hcmdpbkJvdHRvbSIsInNldFRpbWVvdXQiLCJkaXNwbGF5IiwicmVtb3ZlUHJvcGVydHkiLCJzbGlkZURvd24iLCJnZXRDb21wdXRlZFN0eWxlIiwic2xpZGVUb2dnbGUiLCJvbmxvYWQiLCIkIiwidmFsaWRhdGUiLCJlcnJvckNsYXNzIiwiZXJyb3JQbGFjZW1lbnQiLCJlcnJvciIsImVsZW1lbnQiLCJydWxlcyIsInVzZXJfbmFtZSIsInJlcXVpcmVkIiwidXNlcl9lbWFpbCIsImVtYWlsIiwidXNlcl9waG9uZSIsInVzZXJfZGF0ZWJpcnRoIiwiZGVudGlzdF9uYW1lIiwiZGVudGlzdF9hZGRyZXNzIiwiZGVudGlzdF9lbWFpbCIsImRlbnRpc3RfcGhvbmUiLCJkZW50aXN0X2dkYyIsInN1Ym1pdEhhbmRsZXIiLCJib3hlcyIsInBhcmVudHMiLCJhZGRDbGFzcyIsImZvY3VzIiwiZm9ybSIsInN1Ym1pdCIsImJ1cmdlciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImhlYWRlciIsInRlY2hub2xvZ3lDYXJkIiwicXVlcnlTZWxlY3RvckFsbCIsInRyZWF0bWVudHMiLCJ0cmVhdG1lbnRzU2lkZWJhciIsInRyZWF0bWVudHNEcm9wZG93blRyaWdnZXIiLCJ0cmVhdG1lbnRzRHJvcGRvd25JdGVtIiwidHJlYXRtZW50c1NpZGViYXJMaW5rIiwiY2xpY2tIYW5kbGVyIiwiZSIsInByZXZlbnREZWZhdWx0IiwiaHJlZiIsInRoaXMiLCJnZXRBdHRyaWJ1dGUiLCJvZmZzZXRUb3AiLCJzY3JvbGwiLCJ0b3AiLCJiZWhhdmlvciIsInNjcm9sbHNweXMiLCJsaW5rc0hlaWdodCIsImFsbExpbmtzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImZvckVhY2giLCJjdXJyZW50IiwiZG9jdW1lbnRFbGVtZW50Iiwic2Nyb2xsVG9wIiwiYm9keSIsImN1cnJlbnRMaW5rIiwicGFyZW50RWxlbWVudCIsImNsYXNzTGlzdCIsInJlbW92ZSIsInJlbW92ZUF0dHJpYnV0ZSIsImN1cnJlbnRJRCIsImNvbmNhdCIsImFkZCIsImZpcnN0Q2hpbGQiLCJ0ZXh0Q29udGVudCIsIl9zdGVwIiwiX2l0ZXJhdG9yIiwiX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiLCJsaW5rc1Njcm9sbCIsInMiLCJuIiwiZG9uZSIsInZhbHVlIiwiZXJyIiwiZiIsIk92ZXJsYXlTY3JvbGxiYXJzIiwic2VjdGlvbnMiLCJtYXhXaWR0aCIsInRyaWdnZXJJdGVtIiwiZmlsZXNUYWJsZSIsImR0IiwiRGF0YVRyYW5zZmVyIiwib24iLCJpIiwiZmlsZXMiLCJmaWxlQmxvYyIsImNsYXNzIiwidGV4dCIsIml0ZW0iLCJuYW1lIiwiYXBwZW5kIiwiX3N0ZXAyIiwiX2l0ZXJhdG9yMiIsImZpbGUiLCJpdGVtcyIsImNsaWNrIiwicGFyZW50IiwiZmluZCIsImdldEFzRmlsZSIsImdldEVsZW1lbnRCeUlkIiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJjb250YWlucyIsIm5vdCIsImNsb3Nlc3QiLCJyZW1vdmVDbGFzcyIsImhhc0NsYXNzIiwiZ3NhcCIsInJlZ2lzdGVyUGx1Z2luIiwiU2Nyb2xsVHJpZ2dlciIsInV0aWxzIiwidG9BcnJheSIsImdldE1heFdpZHRoIiwic2VjdGlvbiIsIm9mZnNldFdpZHRoIiwidG8iLCJ4IiwiaW5uZXJXaWR0aCIsImVhc2UiLCJzY3JvbGxUcmlnZ2VyIiwic3RhcnQiLCJ0cmlnZ2VyIiwicGluIiwic2NydWIiLCJlbmQiLCJpbnZhbGlkYXRlT25SZWZyZXNoIiwic2N0IiwiY3JlYXRlIiwib2Zmc2V0TGVmdCIsInRvZ2dsZUNsYXNzIiwidGFyZ2V0cyIsImNsYXNzTmFtZSIsIm9mZnNldEl0ZW0iLCJzaG93VHJpZ2dlciIsInNob3dJdGVtIiwidG9nZ2xlIiwiX2xvb3AiLCJfc3RlcDMiLCJfaXRlcmF0b3IzIiwic2V0UHJvcGVydHkiLCJzY3JvbGxZIiwiX2xvb3AyIiwiX2xvb3AzIiwiU3dpcGVyIiwic2xpZGVzUGVyVmlldyIsInNwYWNlQmV0d2VlbiIsIm5hdmlnYXRpb24iLCJuZXh0RWwiLCJwcmV2RWwiLCJwYWdpbmF0aW9uIiwiZWwiLCJicmVha3BvaW50cyIsIjc2OCIsImxvb3AiLCI5OTIiLCJjZW50ZXJlZFNsaWRlcyIsIl9pdGVyYXRvcjQiLCJfc3RlcDQiLCJsaW5rIiwidGV4dGFyZWEiLCJhdXRvc2l6ZVRleHRhcmVhIiwiY3NzVGV4dCIsInNjcm9sbEhlaWdodCIsImVhY2giLCIkdGhpcyIsIm51bWJlck9mT3B0aW9ucyIsImNoaWxkcmVuIiwid3JhcCIsImFmdGVyIiwiJHN0eWxlZFNlbGVjdCIsIm5leHQiLCJlcSIsIiRsaXN0IiwiaW5zZXJ0QWZ0ZXIiLCJyZWwiLCJ2YWwiLCJhcHBlbmRUbyIsIiRsaXN0SXRlbXMiLCJzdG9wUHJvcGFnYXRpb24iLCJhdHRyIl0sIm1hcHBpbmdzIjoibXBDQUNBQSxPQUFPQyxlQUFpQixXQUN0QkQsT0FBT0UsU0FBUyxFQUFHLElBR3JCLElBQUlDLFFBQVUsU0FBQ0MsR0FBeUIsSUFBakJDLEVBQWlCLEVBQUFDLFVBQUFDLGFBQUFDLElBQUFGLFVBQUEsR0FBQUEsVUFBQSxHQUFSLElBRTlCRixFQUFPSyxNQUFNQyxtQkFBcUIsMEJBQ2xDTixFQUFPSyxNQUFNRSxtQkFBcUJOLEVBQVcsS0FDN0NELEVBQU9LLE1BQU1HLE9BQVNSLEVBQU9TLGFBQWUsS0FDNUNULEVBQU9TLGFBQ1BULEVBQU9LLE1BQU1L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QUFnQkwsRUFBTU0sS0FBSyxzQkFDL0JELEVBQWMvRSxPQUFPLG9EQUNyQitFLEVBQWN4RSxLQUFLLFFBQVFWLEtBQUs2RSxFQUFNRSxTQUFTLFVBQVVLLEdBQUcsR0FBR3BGLFFBTS9ELElBSkEsSUFBSXFGLEVBQVE1SyxFQUFFLFNBQVUsQ0FDdEJzRixNQUFTLG9CQUNSdUYsWUFBWUosR0FFTnRGLEVBQUksRUFBR0EsRUFBSWtGLEVBQWlCbEYsSUFDbkNuRixFQUFFLFNBQVUsQ0FDVnVGLEtBQU02RSxFQUFNRSxTQUFTLFVBQVVLLEdBQUd4RixHQUFHSSxPQUNyQ3VGLElBQUtWLEVBQU1FLFNBQVMsVUFBVUssR0FBR3hGLEdBQUc0RixRQUNuQ0MsU0FBU0osR0FHZCxJQUFJSyxFQUFhTCxFQUFNTixTQUFTLE1BRWhDRyxFQUFjMUUsTUFBTSxTQUFTMUQsR0FDM0JBLEVBQUU2SSxrQkFDRmxMLEVBQUUsNkJBQTZCdUcsSUFBSS9ELE1BQU0ySCxLQUFLLFdBQzVDbkssRUFBRXdDLE1BQU1pRSxZQUFZLFVBQVVpRSxLQUFLLHNCQUFzQmpNLFFBQVEsT0FFbkV1QixFQUFFd0MsTUFBTXlGLFlBQVksVUFBVXlDLEtBQUssc0JBQXNCNUssWUFBWSxPQUd2RW1MLEVBQVdsRixNQUFNLFNBQVMxRCxHQUN4QkEsRUFBRTZJLGtCQUNGVCxFQUFjeEUsS0FBSyxRQUFRVixLQUFLdkYsRUFBRXdDLE1BQU0rQyxRQUFRa0IsWUFBWSxVQUM1RDJELEVBQU1XLElBQUkvSyxFQUFFd0MsTUFBTTJJLEtBQUssUUFDdkJQLEVBQU1uTSxRQUFRLE9BR2hCdUIsRUFBRTBCLFVBQVVxRSxNQUFNLFdBQ2hCMEUsRUFBY2hFLFlBQVksVUFDMUJtRSxFQUFNbk0sUUFBUSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIFNjcm9sbCB0byB0aGUgdG9wIGJlZm9yZSB0aGUgcGFnZSBsb2Fkc1xyXG53aW5kb3cub25iZWZvcmV1bmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgd2luZG93LnNjcm9sbFRvKDAsIDApO1xyXG59XHJcblxyXG5sZXQgc2xpZGVVcCA9ICh0YXJnZXQsIGR1cmF0aW9uPTUwMCkgPT4ge1xyXG5cclxuICB0YXJnZXQuc3R5bGUudHJhbnNpdGlvblByb3BlcnR5ID0gJ2hlaWdodCwgbWFyZ2luLCBwYWRkaW5nJztcclxuICB0YXJnZXQuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gZHVyYXRpb24gKyAnbXMnO1xyXG4gIHRhcmdldC5zdHlsZS5oZWlnaHQgPSB0YXJnZXQub2Zmc2V0SGVpZ2h0ICsgJ3B4JztcclxuICB0YXJnZXQub2Zmc2V0SGVpZ2h0O1xyXG4gIHRhcmdldC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xyXG4gIHRhcmdldC5zdHlsZS5oZWlnaHQgPSAwO1xyXG4gIHRhcmdldC5zdHlsZS5wYWRkaW5nVG9wID0gMDtcclxuICB0YXJnZXQuc3R5bGUucGFkZGluZ0JvdHRvbSA9IDA7XHJcbiAgdGFyZ2V0LnN0eWxlLm1hcmdpblRvcCA9IDA7XHJcbiAgdGFyZ2V0LnN0eWxlLm1hcmdpbkJvdHRvbSA9IDA7XHJcbiAgd2luZG93LnNldFRpbWVvdXQoICgpID0+IHtcclxuICAgICAgICB0YXJnZXQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ2hlaWdodCcpO1xyXG4gICAgICAgIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgncGFkZGluZy10b3AnKTtcclxuICAgICAgICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ3BhZGRpbmctYm90dG9tJyk7XHJcbiAgICAgICAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KCdtYXJnaW4tdG9wJyk7XHJcbiAgICAgICAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KCdtYXJnaW4tYm90dG9tJyk7XHJcbiAgICAgICAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KCdvdmVyZmxvdycpO1xyXG4gICAgICAgIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgndHJhbnNpdGlvbi1kdXJhdGlvbicpO1xyXG4gICAgICAgIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgndHJhbnNpdGlvbi1wcm9wZXJ0eScpO1xyXG4gICAgICAgIC8vYWxlcnQoXCIhXCIpO1xyXG4gIH0sIGR1cmF0aW9uKTtcclxufVxyXG5cclxubGV0IHNsaWRlRG93biA9ICh0YXJnZXQsIGR1cmF0aW9uPTUwMCkgPT4ge1xyXG5cclxuICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ2Rpc3BsYXknKTtcclxuICBsZXQgZGlzcGxheSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRhcmdldCkuZGlzcGxheTtcclxuICBpZiAoZGlzcGxheSA9PT0gJ25vbmUnKSBkaXNwbGF5ID0gJ2Jsb2NrJztcclxuICB0YXJnZXQuc3R5bGUuZGlzcGxheSA9IGRpc3BsYXk7XHJcbiAgbGV0IGhlaWdodCA9IHRhcmdldC5vZmZzZXRIZWlnaHQ7XHJcbiAgdGFyZ2V0LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XHJcbiAgdGFyZ2V0LnN0eWxlLmhlaWdodCA9IDA7XHJcbiAgdGFyZ2V0LnN0eWxlLnBhZGRpbmdUb3AgPSAwO1xyXG4gIHRhcmdldC5zdHlsZS5wYWRkaW5nQm90dG9tID0gMDtcclxuICB0YXJnZXQuc3R5bGUubWFyZ2luVG9wID0gMDtcclxuICB0YXJnZXQuc3R5bGUubWFyZ2luQm90dG9tID0gMDtcclxuICB0YXJnZXQub2Zmc2V0SGVpZ2h0O1xyXG4gIHRhcmdldC5zdHlsZS50cmFuc2l0aW9uUHJvcGVydHkgPSBcImhlaWdodCwgbWFyZ2luLCBwYWRkaW5nXCI7XHJcbiAgdGFyZ2V0LnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IGR1cmF0aW9uICsgJ21zJztcclxuICB0YXJnZXQuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgJ3B4JztcclxuICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ3BhZGRpbmctdG9wJyk7XHJcbiAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KCdwYWRkaW5nLWJvdHRvbScpO1xyXG4gIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnbWFyZ2luLXRvcCcpO1xyXG4gIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnbWFyZ2luLWJvdHRvbScpO1xyXG4gIHdpbmRvdy5zZXRUaW1lb3V0KCAoKSA9PiB7XHJcbiAgICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ2hlaWdodCcpO1xyXG4gICAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KCdvdmVyZmxvdycpO1xyXG4gICAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KCd0cmFuc2l0aW9uLWR1cmF0aW9uJyk7XHJcbiAgICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ3RyYW5zaXRpb24tcHJvcGVydHknKTtcclxuICB9LCBkdXJhdGlvbik7XHJcbn1cclxuXHJcbmxldCBzbGlkZVRvZ2dsZSA9ICh0YXJnZXQsIGR1cmF0aW9uID0gNTAwKSA9PiB7XHJcbiAgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRhcmdldCkuZGlzcGxheSA9PT0gJ25vbmUnKSB7XHJcbiAgICByZXR1cm4gc2xpZGVEb3duKHRhcmdldCwgZHVyYXRpb24pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gc2xpZGVVcCh0YXJnZXQsIGR1cmF0aW9uKTtcclxuICB9XHJcbn1cclxuXHJcbndpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgLy8gVmFsaWRhdGUgZm9ybVxyXG4gICQoXCIuZm9ybVwiKS52YWxpZGF0ZSh7XHJcbiAgICBlcnJvckNsYXNzOiAnaW52YWxpZCcsXHJcbiAgICBlcnJvclBsYWNlbWVudDogZnVuY3Rpb24oZXJyb3IsIGVsZW1lbnQpIHt9LFxyXG4gICAgcnVsZXM6IHtcclxuICAgICAgdXNlcl9uYW1lOiB7XHJcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgIH0sXHJcbiAgICAgIHVzZXJfZW1haWw6IHtcclxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICBlbWFpbDogdHJ1ZVxyXG4gICAgICB9LFxyXG4gICAgICB1c2VyX3Bob25lOiB7XHJcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgIH0sXHJcbiAgICAgIHVzZXJfZGF0ZWJpcnRoOiB7XHJcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgIH0sXHJcbiAgICAgIGRlbnRpc3RfbmFtZToge1xyXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICB9LFxyXG4gICAgICBkZW50aXN0X2FkZHJlc3M6IHtcclxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgfSxcclxuICAgICAgZGVudGlzdF9lbWFpbDoge1xyXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgIGVtYWlsOiB0cnVlLFxyXG4gICAgICB9LFxyXG4gICAgICBkZW50aXN0X3Bob25lOiB7XHJcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgIH0sXHJcbiAgICAgIGRlbnRpc3RfZ2RjOiB7XHJcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAgc3VibWl0SGFuZGxlcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBib3hlcyA9ICQoJy50b290aF9fY2hlY2tib3gnKTtcclxuICAgICAgaWYoYm94ZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGlmKCAkKCcudG9vdGhfX2NoZWNrYm94OmNoZWNrZWQnKS5sZW5ndGggPCAxKSB7XHJcbiAgICAgICAgICBib3hlcy5wYXJlbnRzKCcudG9vdGhfX2l0ZW0nKS5hZGRDbGFzcygnaW52YWxpZCcpXHJcbiAgICAgICAgICBib3hlc1swXS5mb2N1cygpO1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBmb3JtLnN1Ym1pdCgpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gIFxyXG4gIC8vIFZhcmlhYmVsc1xyXG4gIGxldCBidXJnZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1cmdlclwiKTtcclxuICBsZXQgaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJcIik7XHJcbiAgbGV0IHRlY2hub2xvZ3lDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRlY2hub2xvZ3ktY2FyZCcpO1xyXG4gIC8vIGxldCB0ZWNobm9sb2d5Q2FyZEJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGVjaG5vbG9neS1jYXJkX19ib2R5JylcclxuICAvLyBsZXQgdGFiQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGFic19faXRlbVwiKTtcclxuICAvLyBsZXQgdGFiSXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGFic19fdHJpZ2dlclwiKTtcclxuICAvLyBsZXQgdGFiRHJvcGRvd25UcmlnZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50cmVhdG1lbnRzIC5kcm9wZG93bl9fdHJpZ2dlciAuZHJvcGRvd25fX3RyaWdnZXItdGV4dFwiKTtcclxuICBsZXQgdHJlYXRtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50cmVhdG1lbnRzJyk7XHJcbiAgbGV0IHRyZWF0bWVudHNTaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50cmVhdG1lbnRzLXNpZGViYXJcIik7XHJcbiAgbGV0IHRyZWF0bWVudHNEcm9wZG93blRyaWdnZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRyZWF0bWVudHMgLmRyb3Bkb3duX190cmlnZ2VyXCIpO1xyXG4gIGxldCB0cmVhdG1lbnRzRHJvcGRvd25JdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50cmVhdG1lbnRzIC5kcm9wZG93bl9faXRlbVwiKTtcclxuICBsZXQgdHJlYXRtZW50c1NpZGViYXJMaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi50cmVhdG1lbnRzLXNpZGViYXIgYVwiKTtcclxuXHJcbiAgLy8gU3B5c2Nyb2xsXHJcbiAgaWYgKHRyZWF0bWVudHNTaWRlYmFyKSB7XHJcbiAgICBsZXQgc2Nyb2xsc3B5cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudHJlYXRtZW50cy1jb250ZW50X19pdGVtXCIpO1xyXG4gICAgbGV0IGxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50cmVhdG1lbnRzLXNpZGViYXIgYVwiKTtcclxuICAgIGxldCBsaW5rc0hlaWdodCA9IGxpbmtzLm9mZnNldEhlaWdodDtcclxuICAgIGxldCBhbGxMaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudHJlYXRtZW50cy1zaWRlYmFyIGFcIik7XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHNjcm9sbHNweSgpIHtcclxuICAgICAgc2Nyb2xsc3B5cy5mb3JFYWNoKGN1cnJlbnQgPT4ge1xyXG4gICAgICAgIGxldCBfID0gY3VycmVudDtcclxuICAgICAgICBsZXQgY3VycmVudEVsZW1lbnRPZmZzZXQgPSBfLm9mZnNldFRvcCAtIDE1MDtcclxuICAgICAgICBsZXQgc2Nyb2xsUG9zaXRpb24gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wO1xyXG4gICAgICAgIGlmIChjdXJyZW50RWxlbWVudE9mZnNldCA8PSBzY3JvbGxQb3NpdGlvbiArIGxpbmtzSGVpZ2h0KSB7XHJcbiAgICAgICAgICBhbGxMaW5rcy5mb3JFYWNoKGN1cnJlbnRMaW5rID0+IHtcclxuICAgICAgICAgICAgY3VycmVudExpbmsucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwianMtY3VycmVudFwiKTtcclxuICAgICAgICAgICAgY3VycmVudExpbmsucGFyZW50RWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgY29uc3QgY3VycmVudElEID0gY3VycmVudC5nZXRBdHRyaWJ1dGUoXCJpZFwiKTtcclxuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGFbaHJlZj1cIiMke2N1cnJlbnRJRH1cIl1gKS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJqcy1jdXJyZW50XCIpO1xyXG4gICAgICAgICAgdHJlYXRtZW50c0Ryb3Bkb3duVHJpZ2dlci5maXJzdENoaWxkLnRleHRDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50cmVhdG1lbnRzLXNpZGViYXIgbGkuanMtY3VycmVudCBhXCIpLnRleHRDb250ZW50XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCAoKSA9PiB7XHJcbiAgICAgIHNjcm9sbHNweSgpXHJcbiAgICB9KTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IGxpbmsgb2YgbGlua3NTY3JvbGwpIHtcclxuICAgICAgbGluay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xpY2tIYW5kbGVyKTtcclxuICAgIH1cclxuICBcclxuICAgIGZ1bmN0aW9uIGNsaWNrSGFuZGxlcihlKSB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgY29uc3QgaHJlZiA9IHRoaXMuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKTtcclxuICAgICAgY29uc3Qgb2Zmc2V0VG9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihocmVmKS5vZmZzZXRUb3AgKyAyMDA7XHJcbiAgXHJcbiAgICAgIHNjcm9sbCh7XHJcbiAgICAgICAgdG9wOiBvZmZzZXRUb3AsXHJcbiAgICAgICAgYmVoYXZpb3I6IFwic21vb3RoXCJcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIG51bGxcclxuICB9XHJcblxyXG4gIC8vIE1hbmlwdWxhdGlvbnMgd2l0aCBoZWFkZXIgY2xhc3NlcyBvbiBzY3JvbGxcclxuICBsZXQgc2Nyb2xsQ2hhbmdlID0gMTtcclxuXHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgKCkgPT4ge1xyXG4gICAgbGV0IHNjcm9sbCA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcclxuXHJcbiAgICBpZiAoc2Nyb2xsID49IHNjcm9sbENoYW5nZSkge1xyXG4gICAgICBoZWFkZXIuY2xhc3NMaXN0LmFkZChcImpzLXNjcm9sbC1kb3duXCIpO1xyXG4gICAgICBoZWFkZXIuY2xhc3NMaXN0LnJlbW92ZShcImpzLXNjcm9sbC10b3BcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBoZWFkZXIuY2xhc3NMaXN0LmFkZChcImpzLXNjcm9sbC10b3BcIik7XHJcbiAgICAgIGhlYWRlci5jbGFzc0xpc3QucmVtb3ZlKFwianMtc2Nyb2xsLWRvd25cIiwgXCJqcy1uYXYtb3BlblwiLCBcImpzLW5hdi1jbG9zZVwiKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgLy8gLy8gVGFic1xyXG4gIC8vIGZvciAobGV0IGkgPSAwOyBpIDwgdGFiSXRlbS5sZW5ndGg7IGkrKykge1xyXG4gIC8vICAgdGFiSXRlbVtpXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cclxuICAvLyAgICAgdGFiQ29udGVudC5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgLy8gICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKFwianMtYWN0aXZlXCIpO1xyXG4gIC8vICAgICB9KTtcclxuXHJcbiAgLy8gICAgIHRhYkl0ZW0uZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gIC8vICAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZShcImpzLWFjdGl2ZVwiKTtcclxuICAvLyAgICAgfSk7XHJcblxyXG4gIC8vICAgICB0YWJDb250ZW50W2ldLmNsYXNzTGlzdC5hZGQoXCJqcy1hY3RpdmVcIik7XHJcbiAgLy8gICAgIHRhYkl0ZW1baV0uY2xhc3NMaXN0LmFkZChcImpzLWFjdGl2ZVwiKTtcclxuXHJcbiAgLy8gICAgIHRhYkRyb3Bkb3duVHJpZ2dlci50ZXh0Q29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFic19fdHJpZ2dlci5qcy1hY3RpdmVcIikudGV4dENvbnRlbnRcclxuICAvLyAgIH0pO1xyXG4gIC8vIH0gXHJcbiAgXHJcbiAgLy8gaWYgKHRhYkRyb3Bkb3duVHJpZ2dlcikge1xyXG4gIC8vICAgdGFiRHJvcGRvd25UcmlnZ2VyLnRleHRDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YWJzX190cmlnZ2VyLmpzLWFjdGl2ZVwiKS50ZXh0Q29udGVudFxyXG4gIC8vIH1cclxuXHJcbiAgLy8gQ3VzdG9tIHNjcm9sbGJhciBpbiB0b290aCB0YWJsZVxyXG4gIE92ZXJsYXlTY3JvbGxiYXJzKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudG9vdGhcIiksIHt9KTtcclxuXHJcbiAgLy8gRmlsZXMgaW5wdXRcclxuICAvLyBsZXQgZmlsZXNUcmlnZ2VyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbGUnKTtcclxuICBsZXQgZmlsZXNUYWJsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5maWxlc19fdGFibGUnKTtcclxuICBcclxuICAvLyBsZXQgdXBkYXRlRmlsZXNMaXN0ID0gKCkgPT4ge1xyXG4gIC8vICAgbGV0IGNoaWxkcmVuID0gXCJcIjtcclxuICAvLyAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmlsZXNUcmlnZ2VyLmZpbGVzLmxlbmd0aDsgKytpKSB7XHJcbiAgLy8gICAgIGNoaWxkcmVuICs9ICAnPGRpdiBjbGFzcz1cImZpbGVzX193cmFwcGVyXCI+JyArICc8ZGl2IGNsYXNzPVwiZmlsZXMtaXRlbVwiPicgKyAnPGkgY2xhc3M9XCJpY29uLWZpbGVcIj48L2k+JyArICc8c3BhbiBjbGFzcz1cImZpbGVzLWl0ZW1fX25hbWVcIj4nICsgZmlsZXNUcmlnZ2VyLmZpbGVzLml0ZW0oaSkubmFtZSArICc8L3NwYW4vPicgKyAnPGkgY2xhc3M9XCJmaWxlcy1pdGVtX19yZW1vdmUgaWNvbi10cmFzaC1jYW5cIiBvbmNsaWNrPVwicmV0dXJuIHRoaXMucGFyZW50Tm9kZS5wYXJlbnROb2RlLnJlbW92ZSgpO1wiPjwvaT4nICsgJzwvZGl2PicgKyAnPC9kaXY+J1xyXG4gIC8vICAgfVxyXG4gIC8vICAgZmlsZXNUYWJsZS5pbm5lckhUTUwgPSBjaGlsZHJlbjtcclxuICAvLyAgIGlmIChjaGlsZHJlbi5sZW5ndGggPj0gMCkge1xyXG4gIC8vICAgICBmaWxlc1RhYmxlLnN0eWxlLmRpc3BsYXkgPSAnZmxleCdcclxuICAvLyAgIH0gZWxzZSB7XHJcbiAgLy8gICAgIGZpbGVzVGFibGUuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG4gIC8vICAgfVxyXG4gIC8vIH1cclxuXHJcbiAgLy8gaWYgKGZpbGVzVHJpZ2dlcikge1xyXG4gIC8vICAgZmlsZXNUcmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKCkgPT4ge1xyXG4gIC8vICAgICB1cGRhdGVGaWxlc0xpc3QoKVxyXG4gIC8vICAgfSlcclxuICAvLyB9XHJcblxyXG4gIGNvbnN0IGR0ID0gbmV3IERhdGFUcmFuc2ZlcigpO1xyXG5cclxuICAkKFwiI2ZpbGVcIikub24oJ2NoYW5nZScsIGZ1bmN0aW9uKGUpe1xyXG4gICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuZmlsZXMubGVuZ3RoOyBpKyspe1xyXG4gICAgICBsZXQgZmlsZUJsb2MgPSAkKCc8ZGl2Lz4nLCB7Y2xhc3M6ICdmaWxlc19fd3JhcHBlcid9KSxcclxuICAgICAgICBmaWxlTmFtZSA9ICQoJzxmaWxlcy1pdGVtLz4nLCB7Y2xhc3M6ICduYW1lJywgdGV4dDogdGhpcy5maWxlcy5pdGVtKGkpLm5hbWV9KTtcclxuICAgICAgZmlsZUJsb2MuYXBwZW5kKGA8ZGl2IGNsYXNzPVwiZmlsZXMtaXRlbVwiPjxpIGNsYXNzPVwiaWNvbi1maWxlXCI+PC9pPjxzcGFuIGNsYXNzPVwiZmlsZXMtaXRlbV9fbmFtZVwiPiR7dGhpcy5maWxlcy5pdGVtKGkpLm5hbWV9PC9zcGFuPjxpIGNsYXNzPVwiZmlsZXMtaXRlbV9fcmVtb3ZlIGljb24tdHJhc2gtY2FuXCI+PC9pPjxkaXY+PGRpdj5gKVxyXG4gICAgICAkKFwiLmZpbGVzX190YWJsZVwiKS5hcHBlbmQoZmlsZUJsb2MpO1xyXG4gICAgfTtcclxuICAgIGZvciAobGV0IGZpbGUgb2YgdGhpcy5maWxlcykge1xyXG4gICAgICBkdC5pdGVtcy5hZGQoZmlsZSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmZpbGVzID0gZHQuZmlsZXM7XHJcblxyXG4gICAgaWYgKHRoaXMuZmlsZXMubGVuZ3RoID49IDApIHtcclxuICAgICAgZmlsZXNUYWJsZS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmaWxlc1RhYmxlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcclxuICAgIH1cclxuICBcclxuICAgICQoJy5maWxlcy1pdGVtX19yZW1vdmUnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICBsZXQgbmFtZSA9ICQodGhpcykucGFyZW50KCkuZmluZCgnLmZpbGVzLWl0ZW1fX25hbWUnKS50ZXh0KCk7XHJcbiAgICAgICQodGhpcykucGFyZW50cygnLmZpbGVzX193cmFwcGVyJykucmVtb3ZlKCk7XHJcbiAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBkdC5pdGVtcy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgaWYobmFtZSA9PT0gZHQuaXRlbXNbaV0uZ2V0QXNGaWxlKCkubmFtZSl7XHJcbiAgICAgICAgICBkdC5pdGVtcy5yZW1vdmUoaSk7XHJcbiAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbGUnKS5maWxlcyA9IGR0LmZpbGVzO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbiAgXHJcbiAgLy8gTWVkaWEgOTkyID09PT09PlxyXG4gIGlmICh3aW5kb3cubWF0Y2hNZWRpYShcIihtaW4td2lkdGg6IDk5MnB4KVwiKS5tYXRjaGVzKSB7XHJcbiAgICAvLyBPcGVuaW5nIGRlc2t0b3AgbWVudSB3aXRoIGJ1cmdlclxyXG4gICAgYnVyZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIGlmIChoZWFkZXIuY2xhc3NMaXN0LmNvbnRhaW5zKFwianMtbmF2LW9wZW5cIikpIHtcclxuICAgICAgICBoZWFkZXIuY2xhc3NMaXN0LnJlbW92ZShcImpzLW5hdi1vcGVuXCIpO1xyXG4gICAgICAgIGhlYWRlci5jbGFzc0xpc3QuYWRkKFwianMtbmF2LWNsb3NlXCIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGhlYWRlci5jbGFzc0xpc3QuYWRkKFwianMtbmF2LW9wZW5cIik7XHJcbiAgICAgICAgaGVhZGVyLmNsYXNzTGlzdC5yZW1vdmUoXCJqcy1uYXYtY2xvc2VcIik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIE9wZW5pbmcgdGVjaG5vbG9neSBhY2NvcmRpb25cclxuICAgICQoJy50ZWNobm9sb2d5X193cmFwcGVyJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAkKFwiLnRlY2hub2xvZ3lfX3dyYXBwZXJcIikubm90KCQodGhpcykuY2xvc2VzdChcIi50ZWNobm9sb2d5X193cmFwcGVyXCIpKS5yZW1vdmVDbGFzcyhcImpzLWFjdGl2ZVwiKTtcclxuICAgICAgJCh0aGlzKS5jbG9zZXN0KFwiLnRlY2hub2xvZ3lfX3dyYXBwZXJcIikuYWRkQ2xhc3MoXCJqcy1hY3RpdmVcIik7XHJcbiAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdqcy1hY3RpdmUnKSkge1xyXG4gICAgICAgICQoJy50ZWNobm9sb2d5LWNhcmRfX2JvZHknKS5ub3QoJCh0aGlzKS5maW5kKCcudGVjaG5vbG9neS1jYXJkX19ib2R5JykpLnNsaWRlVXAoMzAwKTtcclxuICAgICAgICAkKHRoaXMpLmZpbmQoJy50ZWNobm9sb2d5LWNhcmRfX2JvZHknKS5zbGlkZURvd24oMzAwKTtcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICAvLyBmb3IgKGxldCBpID0gMDsgaSA8IHRlY2hub2xvZ3lDYXJkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAvLyAgIHRlY2hub2xvZ3lDYXJkW2ldLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAvLyAgICAgdGVjaG5vbG9neUNhcmQuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xyXG4gICAgLy8gICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwianMtYWN0aXZlXCIpO1xyXG4gICAgLy8gICAgIH0pO1xyXG5cclxuICAgIC8vICAgICAvLyB0ZWNobm9sb2d5Q2FyZEJvZHkuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xyXG4gICAgLy8gICAgIC8vICAgc2xpZGVVcChlbGVtZW50KVxyXG4gICAgLy8gICAgIC8vIH0pO1xyXG5cclxuICAgIC8vICAgICB0ZWNobm9sb2d5Q2FyZFtpXS5jbGFzc0xpc3QuYWRkKCdqcy1hY3RpdmUnKTtcclxuXHJcbiAgICAvLyAgICAgLy8gQWRkIGNsYXNzIHRvIHRoZSBlbGVtZW50IHRoYXQgd2FzIGNsaWNrZWRcclxuICAgIC8vICAgICBzbGlkZURvd24odGVjaG5vbG9neUNhcmRCb2R5W2ldLCAzMDApXHJcbiAgICAvLyAgIH0pO1xyXG4gICAgLy8gfVxyXG4gICAgXHJcblxyXG4gICAgbGV0IGhvcml6b250YWxTY3JvbGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaG9yaXpvbnRhbC1zY3JvbGwnKVxyXG5cclxuICAgIGlmIChob3Jpem9udGFsU2Nyb2xsKSB7XHJcbiAgICAgIC8vIEhvcml6b250YWwgc2Nyb2xsIGluIFRyZWF0bWVudHMgPT09PT0+XHJcbiAgICAgIGdzYXAucmVnaXN0ZXJQbHVnaW4oU2Nyb2xsVHJpZ2dlcik7XHJcbiAgXHJcbiAgICAgIGNvbnN0IHNlY3Rpb25zID0gZ3NhcC51dGlscy50b0FycmF5KFwiLmhvcml6b250YWwtc2Nyb2xsXCIpO1xyXG4gICAgICBsZXQgbWF4V2lkdGggPSAwO1xyXG4gIFxyXG4gICAgICBjb25zdCBnZXRNYXhXaWR0aCA9ICgpID0+IHtcclxuICAgICAgICBtYXhXaWR0aCA9IDA7XHJcbiAgICAgICAgc2VjdGlvbnMuZm9yRWFjaCgoc2VjdGlvbikgPT4ge1xyXG4gICAgICAgICAgbWF4V2lkdGggKz0gc2VjdGlvbi5vZmZzZXRXaWR0aDtcclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuICAgICAgZ2V0TWF4V2lkdGgoKTtcclxuICAgICAgU2Nyb2xsVHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKFwicmVmcmVzaEluaXRcIiwgZ2V0TWF4V2lkdGgpO1xyXG4gIFxyXG4gICAgICBsZXQgdHJpZ2dlckl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudHJlYXRtZW50cycpO1xyXG4gIFxyXG4gICAgICBnc2FwLnRvKHNlY3Rpb25zLCB7XHJcbiAgICAgICAgeDogKCkgPT4gYC0ke21heFdpZHRoIC0gd2luZG93LmlubmVyV2lkdGh9YCxcclxuICAgICAgICBlYXNlOiBcIm5vbmVcIixcclxuICAgICAgICBzY3JvbGxUcmlnZ2VyOiB7XHJcbiAgICAgICAgICBzdGFydDogXCItMTIwcHggdG9wXCIsXHJcbiAgICAgICAgICB0cmlnZ2VyOiB0cmlnZ2VySXRlbSxcclxuICAgICAgICAgIHBpbjogdHJ1ZSxcclxuICAgICAgICAgIHNjcnViOiB0cnVlLFxyXG4gICAgICAgICAgZW5kOiAoKSA9PiBgKz0ke21heFdpZHRofWAsXHJcbiAgICAgICAgICBpbnZhbGlkYXRlT25SZWZyZXNoOiB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICBcclxuICAgICAgc2VjdGlvbnMuZm9yRWFjaCgoc2N0LCBpKSA9PiB7XHJcbiAgICAgICAgU2Nyb2xsVHJpZ2dlci5jcmVhdGUoe1xyXG4gICAgICAgICAgdHJpZ2dlcjogc2N0LFxyXG4gICAgICAgICAgc3RhcnQ6ICgpID0+ICd0b3AgdG9wLT0nICsgKHNjdC5vZmZzZXRMZWZ0IC0gd2luZG93LmlubmVyV2lkdGgvMikgKiAobWF4V2lkdGggLyAobWF4V2lkdGggLSB3aW5kb3cuaW5uZXJXaWR0aCkpLFxyXG4gICAgICAgICAgZW5kOiAoKSA9PiAnKz0nICsgc2N0Lm9mZnNldFdpZHRoICogKG1heFdpZHRoIC8gKG1heFdpZHRoIC0gd2luZG93LmlubmVyV2lkdGgpKSxcclxuICAgICAgICAgIHRvZ2dsZUNsYXNzOiB7dGFyZ2V0czogc2N0LCBjbGFzc05hbWU6IFwiYWN0aXZlXCJ9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIFRvZ2dsZSB2aXNpYmxlIGVsZW1lbnRzXHJcbiAgICBsZXQgc2hvd1RyaWdnZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNob3dfX3RyaWdnZXJcIik7XHJcbiAgICBsZXQgc2hvd0l0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNob3dfX2l0ZW1cIik7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaG93VHJpZ2dlci5sZW5ndGg7IGkrKykge1xyXG4gICAgICBzaG93VHJpZ2dlcltpXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIHNob3dUcmlnZ2VyW2ldLmNsYXNzTGlzdC50b2dnbGUoJ2pzLWFjdGl2ZScpXHJcblxyXG4gICAgICAgIGlmIChzaG93VHJpZ2dlcltpXS5jbGFzc0xpc3QuY29udGFpbnMoXCJqcy1hY3RpdmVcIikpIHtcclxuICAgICAgICAgIHNob3dUcmlnZ2VyW2ldLnRleHRDb250ZW50ID0gJ1NlZSBsZXNzJ1xyXG4gICAgICAgICAgc2hvd0l0ZW0uZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCJcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzaG93VHJpZ2dlcltpXS50ZXh0Q29udGVudCA9ICdTZWUgYWxsJ1xyXG4gICAgICAgICAgc2hvd0l0ZW0uZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIlxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0cmVhdG1lbnRzU2lkZWJhcikge1xyXG4gICAgICBmb3IgKGNvbnN0IGxpbmsgb2YgbGlua3NTY3JvbGwpIHtcclxuICAgICAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbGlja0hhbmRsZXIpO1xyXG4gICAgICB9XHJcbiAgICBcclxuICAgICAgZnVuY3Rpb24gY2xpY2tIYW5kbGVyKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgY29uc3QgaHJlZiA9IHRoaXMuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKTtcclxuICAgICAgICBjb25zdCBvZmZzZXRUb3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGhyZWYpLm9mZnNldFRvcCAtIDE1MDtcclxuICAgIFxyXG4gICAgICAgIHNjcm9sbCh7XHJcbiAgICAgICAgICB0b3A6IG9mZnNldFRvcCxcclxuICAgICAgICAgIGJlaGF2aW9yOiBcInNtb290aFwiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBUcmVhdG1lbnRzIHBhZ2UgdGFicyBuYXZpZ2F0aW9uXHJcbiAgICAvLyBsZXQgdHJlYXRtZW50c0Ryb3Bkb3duID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50cmVhdG1lbnRzIC5kcm9wZG93blwiKTtcclxuICAgIC8vIGxldCB0cmVhdG1lbnRzRHJvcGRvd25MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50cmVhdG1lbnRzIC5kcm9wZG93bl9fbGlzdFwiKTtcclxuXHJcbiAgICAvLyBpZiAodHJlYXRtZW50c0Ryb3Bkb3duICYmIHRyZWF0bWVudHNEcm9wZG93bkxpc3QpIHtcclxuICAgIC8vICAgbGV0IG9mZnNldEl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZHJvcGRvd25fX2xpc3QnKS5vZmZzZXRIZWlnaHRcclxuICAgIC8vICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFwiLS10cmVhdG1lbnRzLWRyb3Bkb3duLW9mZnNldFwiLCBvZmZzZXRJdGVtICsgXCJweFwiKVxyXG4gICAgXHJcbiAgICAvLyAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsICgpID0+IHtcclxuICAgICAgICBcclxuICAgIC8vICAgICBpZiAod2luZG93LnNjcm9sbFkgPiBvZmZzZXRJdGVtICsgNjQgKSB7XHJcbiAgICAvLyAgICAgICB0cmVhdG1lbnRzRHJvcGRvd24uY2xhc3NMaXN0LmFkZChcImpzLXNjcm9sbC1kb3duXCIpO1xyXG4gICAgLy8gICAgICAgdHJlYXRtZW50c0Ryb3Bkb3duTGlzdC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcbiAgICAvLyAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudHJlYXRtZW50cycpLmNsYXNzTGlzdC5hZGQoXCJvZmZzZXQtdG9wXCIpXHJcbiAgICAvLyAgICAgfSBlbHNlIHtcclxuICAgIC8vICAgICAgIHRyZWF0bWVudHNEcm9wZG93bi5jbGFzc0xpc3QucmVtb3ZlKFwianMtc2Nyb2xsLWRvd25cIik7XHJcbiAgICAvLyAgICAgICB0cmVhdG1lbnRzRHJvcGRvd25MaXN0LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXHJcbiAgICAvLyAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudHJlYXRtZW50cycpLmNsYXNzTGlzdC5yZW1vdmUoXCJvZmZzZXQtdG9wXCIpXHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICB9KTtcclxuXHJcbiAgICAvLyAgIHRyZWF0bWVudHNEcm9wZG93bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIC8vICAgICBpZiAodHJlYXRtZW50c0Ryb3Bkb3duLmNsYXNzTGlzdC5jb250YWlucyhcImpzLXNjcm9sbC1kb3duXCIpKSB7XHJcbiAgICAvLyAgICAgICBzbGlkZVRvZ2dsZSh0cmVhdG1lbnRzRHJvcGRvd25MaXN0LCAzMDApO1xyXG4gICAgLy8gICAgIH0gZWxzZSB7XHJcbiAgICAvLyAgICAgICBudWxsXHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICB9KTtcclxuICAgIC8vIH1cclxuXHJcbiAgICBpZiAodHJlYXRtZW50c0Ryb3Bkb3duVHJpZ2dlciAmJiB0cmVhdG1lbnRzRHJvcGRvd25JdGVtKSB7XHJcbiAgICAgIGxldCBvZmZzZXRJdGVtID0gdHJlYXRtZW50c0Ryb3Bkb3duSXRlbS5vZmZzZXRIZWlnaHRcclxuICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFwiLS10cmVhdG1lbnRzLWRyb3Bkb3duLW9mZnNldFwiLCBvZmZzZXRJdGVtICsgXCJweFwiKTtcclxuICAgICAgXHJcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsICgpID0+IHtcclxuICAgICAgICBpZiAod2luZG93LnNjcm9sbFkgPiBvZmZzZXRJdGVtICsgNjQgKSB7XHJcbiAgICAgICAgICB0cmVhdG1lbnRzU2lkZWJhci5jbGFzc0xpc3QuYWRkKFwianMtc2Nyb2xsLWRvd25cIik7XHJcbiAgICAgICAgICB0cmVhdG1lbnRzLmNsYXNzTGlzdC5hZGQoXCJvZmZzZXQtdG9wXCIpO1xyXG4gICAgICAgICAgdHJlYXRtZW50c0Ryb3Bkb3duSXRlbS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcblxyXG4gICAgICAgICAgaWYgKHRyZWF0bWVudHNTaWRlYmFyLmNsYXNzTGlzdC5jb250YWlucyhcImpzLXNjcm9sbC1kb3duXCIpKSB7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyZWF0bWVudHNTaWRlYmFyTGluay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgIHRyZWF0bWVudHNTaWRlYmFyTGlua1tpXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdHJlYXRtZW50c1NpZGViYXJMaW5rLmZvckVhY2goKGVsZW1lbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgZWxlbWVudC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJqcy1jdXJyZW50XCIpXHJcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQucGFyZW50RWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJjbGFzc1wiKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdHJlYXRtZW50c1NpZGViYXJMaW5rW2ldLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImpzLWN1cnJlbnRcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgdHJlYXRtZW50c0Ryb3Bkb3duVHJpZ2dlci5maXJzdENoaWxkLnRleHRDb250ZW50ID0gdHJlYXRtZW50c1NpZGViYXJMaW5rW2ldLnRleHRDb250ZW50XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRyZWF0bWVudHNTaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoXCJqcy1zY3JvbGwtZG93blwiKTtcclxuICAgICAgICAgIHRyZWF0bWVudHNEcm9wZG93bkl0ZW0uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgICAgIHRyZWF0bWVudHMuY2xhc3NMaXN0LnJlbW92ZShcIm9mZnNldC10b3BcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHRyZWF0bWVudHNTaWRlYmFyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgdHJlYXRtZW50c0Ryb3Bkb3duVHJpZ2dlci5jbGFzc0xpc3QudG9nZ2xlKFwianMtYWN0aXZlXCIpXHJcbiAgICAgICAgc2xpZGVUb2dnbGUodHJlYXRtZW50c0Ryb3Bkb3duSXRlbSwgMzAwKVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHRyZWF0bWVudHNEcm9wZG93blRyaWdnZXIuZmlyc3RDaGlsZC50ZXh0Q29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudHJlYXRtZW50cy1zaWRlYmFyIGxpLmpzLWN1cnJlbnQgYVwiKS50ZXh0Q29udGVudFxyXG4gICAgfVxyXG5cclxuICAgIFxyXG5cclxuICAgIC8vIE9wZW5pbmcgbW9iaWxlIG1lbnUgd2l0aCBidXJnZXJcclxuICAgIGJ1cmdlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICBoZWFkZXIuY2xhc3NMaXN0LnRvZ2dsZShcImpzLW5hdi1vcGVuXCIpO1xyXG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC50b2dnbGUoXCJqcy1sb2NrXCIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gT3BlbmluZyB0ZWNobm9sb2d5IGFjY29yZGlvbnMgISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhIVxyXG4gICAgLy8gJCgnLnRlY2hub2xvZ3lfX3dyYXBwZXIgLnRlY2hub2xvZ3ktY2FyZCcpLm5vdCgkKCcudGVjaG5vbG9neV9fd3JhcHBlci5zZWNvbmRhcnkgLnRlY2hub2xvZ3ktY2FyZCcpKS5yZW1vdmVDbGFzcygnanMtYWN0aXZlJylcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGVjaG5vbG9neUNhcmQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgdGVjaG5vbG9neUNhcmRbaV0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAvLyBSZW1vdmUgY2xhc3MgZnJvbSBhbGwgZWxlbWVudHNcclxuICAgICAgICB0ZWNobm9sb2d5Q2FyZC5mb3JFYWNoKChlbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJqcy1hY3RpdmVcIik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEFkZCBjbGFzcyB0byB0aGUgZWxlbWVudCB0aGF0IHdhcyBjbGlja2VkXHJcbiAgICAgICAgdGVjaG5vbG9neUNhcmRbaV0uY2xhc3NMaXN0LmFkZChcImpzLWFjdGl2ZVwiKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQmxvY2sgc2xpZGVyICdUcmVhdG1lbnRzJ1xyXG4gICAgY29uc3Qgc2xpZGVyVHJlYXRtZW50cyA9IG5ldyBTd2lwZXIoJy50cmVhdG1lbnRzLXNsaWRlcicsIHtcclxuICAgICAgc2xpZGVzUGVyVmlldzogMSxcclxuICAgICAgc3BhY2VCZXR3ZWVuOiAzMCxcclxuICAgICAgbmF2aWdhdGlvbjoge1xyXG4gICAgICAgIG5leHRFbDogXCIudHJlYXRtZW50cy1idXR0b24tbmV4dFwiLFxyXG4gICAgICAgIHByZXZFbDogXCIudHJlYXRtZW50cy1idXR0b24tcHJldlwiLFxyXG4gICAgICB9LFxyXG4gICAgICBwYWdpbmF0aW9uOiB7XHJcbiAgICAgICAgZWw6IFwiLnRyZWF0bWVudHMtcGFnaW5hdGlvblwiLFxyXG4gICAgICB9LFxyXG4gICAgICBicmVha3BvaW50czoge1xyXG4gICAgICAgIDc2ODoge1xyXG4gICAgICAgICAgc2xpZGVzUGVyVmlldzogMixcclxuICAgICAgICB9LFxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgLy8gQmxvY2sgc2xpZGVyICdQcmFjdGljZXMnXHJcbiAgY29uc3Qgc2xpZGVyUHJhY3RpY2VzID0gbmV3IFN3aXBlcignLnByYWN0aWNlcy1zbGlkZXInLCB7XHJcbiAgICBzbGlkZXNQZXJWaWV3OiAxLFxyXG4gICAgc3BhY2VCZXR3ZWVuOiA0MCxcclxuICAgIG5hdmlnYXRpb246IHtcclxuICAgICAgbmV4dEVsOiBcIi5wcmFjdGljZXMtYnV0dG9uLW5leHRcIixcclxuICAgICAgcHJldkVsOiBcIi5wcmFjdGljZXMtYnV0dG9uLXByZXZcIixcclxuICAgIH0sXHJcbiAgICBwYWdpbmF0aW9uOiB7XHJcbiAgICAgIGVsOiBcIi5wcmFjdGljZXMtcGFnaW5hdGlvblwiLFxyXG4gICAgfSxcclxuICAgIGJyZWFrcG9pbnRzOiB7XHJcbiAgICAgIDc2ODoge1xyXG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDIsXHJcbiAgICAgIH0sXHJcbiAgICB9XHJcbiAgfSlcclxuXHJcbiAgLy8gQmxvY2sgc2xpZGVyICdUZXN0aW1vbmlhbHMnXHJcbiAgY29uc3Qgc2xpZGVyVGVzdGltb25pYWxzID0gbmV3IFN3aXBlcignLnRlc3RpbW9uaWFscy1zbGlkZXInLCB7XHJcbiAgICBzbGlkZXNQZXJWaWV3OiAxLFxyXG4gICAgc3BhY2VCZXR3ZWVuOiAzMCxcclxuICAgIGxvb3A6IHRydWUsXHJcbiAgICBuYXZpZ2F0aW9uOiB7XHJcbiAgICAgIG5leHRFbDogXCIudGVzdGltb25pYWxzLWJ1dHRvbi1uZXh0XCIsXHJcbiAgICAgIHByZXZFbDogXCIudGVzdGltb25pYWxzLWJ1dHRvbi1wcmV2XCIsXHJcbiAgICB9LFxyXG4gICAgcGFnaW5hdGlvbjoge1xyXG4gICAgICBlbDogXCIudGVzdGltb25pYWxzLXBhZ2luYXRpb25cIixcclxuICAgIH0sXHJcbiAgICBicmVha3BvaW50czoge1xyXG4gICAgICA3Njg6IHtcclxuICAgICAgICBzbGlkZXNQZXJWaWV3OiAyLFxyXG4gICAgICB9LFxyXG4gICAgICA5OTI6IHtcclxuICAgICAgICBzbGlkZXNQZXJWaWV3OiAnYXV0bycsXHJcbiAgICAgICAgY2VudGVyZWRTbGlkZXM6IHRydWUsXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KVxyXG5cclxuICAvLyBCbG9jayBzbGlkZXIgJ0Nhc2VzJ1xyXG4gIGNvbnN0IHNsaWRlckNhc2VzID0gbmV3IFN3aXBlcignLmNhc2VzLXNsaWRlcicsIHtcclxuICAgIHNsaWRlc1BlclZpZXc6IDEsXHJcbiAgICBzcGFjZUJldHdlZW46IDMwLFxyXG4gICAgbmF2aWdhdGlvbjoge1xyXG4gICAgICBuZXh0RWw6IFwiLmNhc2VzLWJ1dHRvbi1uZXh0XCIsXHJcbiAgICAgIHByZXZFbDogXCIuY2FzZXMtYnV0dG9uLXByZXZcIixcclxuICAgIH0sXHJcbiAgICBwYWdpbmF0aW9uOiB7XHJcbiAgICAgIGVsOiBcIi5jYXNlcy1wYWdpbmF0aW9uXCIsXHJcbiAgICB9LFxyXG4gICAgYnJlYWtwb2ludHM6IHtcclxuICAgICAgNzY4OiB7XHJcbiAgICAgICAgc2xpZGVzUGVyVmlldzogMixcclxuICAgICAgfSxcclxuICAgIH1cclxuICB9KVxyXG5cclxuICAvLyBCbG9jayBzbGlkZXIgJ1NvY2lhbHMnXHJcbiAgY29uc3Qgc2xpZGVyU29jaWFscyA9IG5ldyBTd2lwZXIoJy5zb2NpYWxzX19zbGlkZXInLCB7XHJcbiAgICBzbGlkZXNQZXJWaWV3OiAxLFxyXG4gICAgc3BhY2VCZXR3ZWVuOiAzMCxcclxuICAgIG5hdmlnYXRpb246IHtcclxuICAgICAgbmV4dEVsOiBcIi5zb2NpYWxzLWJ1dHRvbi1uZXh0XCIsXHJcbiAgICAgIHByZXZFbDogXCIuc29jaWFscy1idXR0b24tcHJldlwiLFxyXG4gICAgfSxcclxuICAgIHBhZ2luYXRpb246IHtcclxuICAgICAgZWw6IFwiLnNvY2lhbHMtcGFnaW5hdGlvblwiLFxyXG4gICAgfSxcclxuICAgIGJyZWFrcG9pbnRzOiB7XHJcbiAgICAgIDc2ODoge1xyXG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDIsXHJcbiAgICAgIH0sXHJcbiAgICAgIDk5Mjoge1xyXG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDUsXHJcbiAgICAgIH0sXHJcbiAgICB9XHJcbiAgfSlcclxufVxyXG5cclxuLy8gU2Nyb2xsIHRvIGFuY2hvclxyXG5sZXQgbGlua3NTY3JvbGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNjcm9sbF9fbGlua1wiKTtcclxuXHJcbmZvciAoY29uc3QgbGluayBvZiBsaW5rc1Njcm9sbCkge1xyXG4gIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsaWNrSGFuZGxlcik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsaWNrSGFuZGxlcihlKSB7XHJcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIGNvbnN0IGhyZWYgPSB0aGlzLmdldEF0dHJpYnV0ZShcImhyZWZcIik7XHJcbiAgY29uc3Qgb2Zmc2V0VG9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihocmVmKS5vZmZzZXRUb3AgLSAxNTA7XHJcblxyXG4gIHNjcm9sbCh7XHJcbiAgICB0b3A6IG9mZnNldFRvcCxcclxuICAgIGJlaGF2aW9yOiBcInNtb290aFwiXHJcbiAgfSk7XHJcbn0iLCIvLyBBdXRvIHNpemUgdGV4dGFyZWEgPT09PT0+XHJcbnZhciB0ZXh0YXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhJyk7XHJcblxyXG5pZiAodGV4dGFyZWEpIHtcclxuICB0ZXh0YXJlYS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgYXV0b3NpemVUZXh0YXJlYSk7XHJcbn0gZWxzZSB7XHJcbiAgbnVsbFxyXG59XHJcblxyXG5mdW5jdGlvbiBhdXRvc2l6ZVRleHRhcmVhKCl7XHJcblx0dmFyIGVsID0gdGhpcztcclxuXHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcblx0XHRlbC5zdHlsZS5jc3NUZXh0ID0gJ2hlaWdodDphdXRvOyBwYWRkaW5nOjAnO1xyXG5cdFx0ZWwuc3R5bGUuY3NzVGV4dCA9ICctbW96LWJveC1zaXppbmc6Y29udGVudC1ib3gnO1xyXG5cdFx0ZWwuc3R5bGUuY3NzVGV4dCA9ICdoZWlnaHQ6JyArIGVsLnNjcm9sbEhlaWdodCArICdweCc7XHJcblx0fSwwKTtcclxufVxyXG5cclxuLy8gQ3VzdG9tIHNlbGVjdCA9PT09PT5cclxuJCgnc2VsZWN0JykuZWFjaChmdW5jdGlvbigpe1xyXG4gIHZhciAkdGhpcyA9ICQodGhpcyksIG51bWJlck9mT3B0aW9ucyA9ICQodGhpcykuY2hpbGRyZW4oJ29wdGlvbicpLmxlbmd0aDtcclxuXHJcbiAgJHRoaXMuYWRkQ2xhc3MoJ3NlbGVjdF9faGlkZGVuJyk7IFxyXG4gICR0aGlzLndyYXAoJzxkaXYgY2xhc3M9XCJzZWxlY3RcIj48L2Rpdj4nKTtcclxuICAkdGhpcy5hZnRlcignPGRpdiBjbGFzcz1cInNlbGVjdF9fc3R5bGVkXCI+PC9kaXY+Jyk7XHJcblxyXG4gIHZhciAkc3R5bGVkU2VsZWN0ID0gJHRoaXMubmV4dCgnZGl2LnNlbGVjdF9fc3R5bGVkJyk7XHJcbiAgJHN0eWxlZFNlbGVjdC5hcHBlbmQoJzxzcGFuPjwvc3Bhbj48aSBjbGFzcz1cImljb24tYXJyb3ctZHJvcGRvd25cIj48L2k+JylcclxuICAkc3R5bGVkU2VsZWN0LmZpbmQoJ3NwYW4nKS50ZXh0KCR0aGlzLmNoaWxkcmVuKCdvcHRpb24nKS5lcSgwKS50ZXh0KCkpO1xyXG5cclxuICB2YXIgJGxpc3QgPSAkKCc8dWwgLz4nLCB7XHJcbiAgICAnY2xhc3MnOiAnc2VsZWN0X19vcHRpb25zJ1xyXG4gIH0pLmluc2VydEFmdGVyKCRzdHlsZWRTZWxlY3QpO1xyXG5cclxuICBmb3IgKHZhciBpID0gMDsgaSA8IG51bWJlck9mT3B0aW9uczsgaSsrKSB7XHJcbiAgICAkKCc8bGkgLz4nLCB7XHJcbiAgICAgIHRleHQ6ICR0aGlzLmNoaWxkcmVuKCdvcHRpb24nKS5lcShpKS50ZXh0KCksXHJcbiAgICAgIHJlbDogJHRoaXMuY2hpbGRyZW4oJ29wdGlvbicpLmVxKGkpLnZhbCgpXHJcbiAgICB9KS5hcHBlbmRUbygkbGlzdCk7XHJcbiAgfVxyXG5cclxuICB2YXIgJGxpc3RJdGVtcyA9ICRsaXN0LmNoaWxkcmVuKCdsaScpO1xyXG5cclxuICAkc3R5bGVkU2VsZWN0LmNsaWNrKGZ1bmN0aW9uKGUpIHtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAkKCdkaXYuc2VsZWN0X19zdHlsZWQuYWN0aXZlJykubm90KHRoaXMpLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnYWN0aXZlJykubmV4dCgndWwuc2VsZWN0X19vcHRpb25zJykuc2xpZGVVcCgzMDApO1xyXG4gICAgfSk7XHJcbiAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKS5uZXh0KCd1bC5zZWxlY3RfX29wdGlvbnMnKS5zbGlkZVRvZ2dsZSgzMDApO1xyXG4gIH0pO1xyXG5cclxuICAkbGlzdEl0ZW1zLmNsaWNrKGZ1bmN0aW9uKGUpIHtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAkc3R5bGVkU2VsZWN0LmZpbmQoJ3NwYW4nKS50ZXh0KCQodGhpcykudGV4dCgpKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAkdGhpcy52YWwoJCh0aGlzKS5hdHRyKCdyZWwnKSk7XHJcbiAgICAkbGlzdC5zbGlkZVVwKDMwMCk7XHJcbiAgfSk7XHJcblxyXG4gICQoZG9jdW1lbnQpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgJHN0eWxlZFNlbGVjdC5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAkbGlzdC5zbGlkZVVwKDMwMCk7XHJcbiAgfSk7XHJcblxyXG59KTsiXX0=