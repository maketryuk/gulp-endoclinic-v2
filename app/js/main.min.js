"use strict";function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,t=function(){};return{s:t,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var slideUp=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:500;e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(function(){e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")},t)},slideDown=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:500;e.style.removeProperty("display");var n=window.getComputedStyle(e).display;e.style.display=n="none"===n?"block":n;n=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=n+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(function(){e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")},t)},slideToggle=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:500;return("none"===window.getComputedStyle(e).display?slideDown:slideUp)(e,t)};window.onload=function(){$(".form").validate({errorClass:"invalid",errorPlacement:function(e,t){},rules:{user_name:{required:!0},user_email:{required:!0,email:!0},user_phone:{required:!0},user_datebirth:{required:!0},dentist_name:{required:!0},dentist_address:{required:!0},dentist_email:{required:!0,email:!0},dentist_phone:{required:!0},dentist_gdc:{required:!0}},submitHandler:function(){form.submit()}});var e,t,n,i=document.querySelector(".burger"),s=document.querySelector(".header"),a=document.querySelectorAll(".technology-card"),l=document.querySelector(".treatments"),c=document.querySelector(".treatments-sidebar"),d=document.querySelector(".treatments .dropdown__trigger"),p=document.querySelector(".treatments .dropdown__item"),u=document.querySelectorAll(".treatments-sidebar a");c&&(e=document.querySelectorAll(".treatments-content__item"),t=document.querySelector(".treatments-sidebar a").offsetHeight,n=document.querySelectorAll(".treatments-sidebar a"),window.addEventListener("scroll",function(){e.forEach(function(e){e.offsetTop-150<=(document.documentElement.scrollTop||document.body.scrollTop)+t&&(n.forEach(function(e){e.parentElement.classList.remove("js-current"),e.parentElement.removeAttribute("class")}),e=e.getAttribute("id"),document.querySelector('a[href="#'.concat(e,'"]')).parentElement.classList.add("js-current"),d.firstChild.textContent=document.querySelector(".treatments-sidebar li.js-current a").textContent)})}));var r,o=_createForOfIteratorHelper(document.querySelectorAll(".scroll__link"));try{for(o.s();!(r=o.n()).done;)r.value.addEventListener("click",m)}catch(e){o.e(e)}finally{o.f()}function m(e){e.preventDefault();e=this.getAttribute("href"),e=document.querySelector(e).offsetTop;scroll({top:e-150,behavior:"smooth"})}window.addEventListener("scroll",function(){1<=$(window).scrollTop()?(s.classList.add("js-scroll-down"),s.classList.remove("js-scroll-top")):(s.classList.add("js-scroll-top"),s.classList.remove("js-scroll-down","js-nav-open","js-nav-close"))}),OverlayScrollbars(document.querySelectorAll(".tooth"),{});var f,y,v,g=document.querySelector(".files__table"),h=new DataTransfer;$("#file").on("change",function(e){for(var t=0;t<this.files.length;t++){var n=$("<div/>",{class:"files__wrapper"});$("<files-item/>",{class:"name",text:this.files.item(t).name});n.append('<div class="files-item"><i class="icon-file"></i><span class="files-item__name">'.concat(this.files.item(t).name,'</span><i class="files-item__remove icon-trash-can"></i><div><div>')),$(".files__table").append(n)}var r,o=_createForOfIteratorHelper(this.files);try{for(o.s();!(r=o.n()).done;){var i=r.value;h.items.add(i)}}catch(e){o.e(e)}finally{o.f()}this.files=h.files,0<=this.files.length?g.style.display="flex":g.style.display="none",$(".files-item__remove").click(function(){var e=$(this).parent().find(".files-item__name").text();$(this).parents(".files__wrapper").remove();for(var t=0;t<h.items.length;t++)e!==h.items[t].getAsFile().name||h.items.remove(t);document.getElementById("file").files=h.files})}),window.matchMedia("(min-width: 992px)").matches?(i.addEventListener("click",function(){s.classList.contains("js-nav-open")?(s.classList.remove("js-nav-open"),s.classList.add("js-nav-close")):(s.classList.add("js-nav-open"),s.classList.remove("js-nav-close"))}),$(".technology__wrapper").click(function(){$(".technology__wrapper").not($(this).closest(".technology__wrapper")).removeClass("js-active"),$(this).closest(".technology__wrapper").addClass("js-active"),$(this).hasClass("js-active")&&($(".technology-card__body").not($(this).find(".technology-card__body")).slideUp(300),$(this).find(".technology-card__body").slideDown(300))}),document.querySelector(".horizontal-scroll")&&(gsap.registerPlugin(ScrollTrigger),f=gsap.utils.toArray(".horizontal-scroll"),y=0,(v=function(){y=0,f.forEach(function(e){y+=e.offsetWidth})})(),ScrollTrigger.addEventListener("refreshInit",v),v=document.querySelector(".treatments"),gsap.to(f,{x:function(){return"-".concat(y-window.innerWidth)},ease:"none",scrollTrigger:{start:"-120px top",trigger:v,pin:!0,scrub:!0,end:function(){return"+=".concat(y)},invalidateOnRefresh:!0}}),f.forEach(function(e,t){ScrollTrigger.create({trigger:e,start:function(){return"top top-="+(e.offsetLeft-window.innerWidth/2)*(y/(y-window.innerWidth))},end:function(){return"+="+e.offsetWidth*(y/(y-window.innerWidth))},toggleClass:{targets:e,className:"active"}})}))):function(){for(var t,n=document.querySelectorAll(".show__trigger"),r=document.querySelectorAll(".show__item"),e=0;e<n.length;e++)!function(e){n[e].addEventListener("click",function(){n[e].classList.toggle("js-active"),n[e].classList.contains("js-active")?(n[e].textContent="See less",r.forEach(function(e){e.style.display="block"})):(n[e].textContent="See all",r.forEach(function(e){e.style.display="none"}))})}(e);d&&p&&(t=p.offsetHeight,document.documentElement.style.setProperty("--treatments-dropdown-offset",t+"px"),window.addEventListener("scroll",function(){if(window.scrollY>t+64){if(c.classList.add("js-scroll-down"),l.classList.add("offset-top"),p.style.display="none",c.classList.contains("js-scroll-down"))for(var e=0;e<u.length;e++)!function(e){u[e].addEventListener("click",function(){u.forEach(function(e){e.parentElement.classList.remove("js-current"),e.parentElement.removeAttribute("class")}),u[e].parentElement.classList.add("js-current"),d.firstChild.textContent=u[e].textContent})}(e)}else c.classList.remove("js-scroll-down"),p.style.display="block",l.classList.remove("offset-top")}),c.addEventListener("click",function(){d.classList.toggle("js-active"),slideToggle(p,300)}),d.firstChild.textContent=document.querySelector(".treatments-sidebar li.js-current a").textContent),i.addEventListener("click",function(){s.classList.toggle("js-nav-open"),document.body.classList.toggle("js-lock")});for(var o=0;o<a.length;o++)!function(e){a[e].addEventListener("click",function(){a.forEach(function(e){e.classList.remove("js-active")}),a[e].classList.add("js-active")})}(o);new Swiper(".treatments-slider",{slidesPerView:1,spaceBetween:30,navigation:{nextEl:".treatments-button-next",prevEl:".treatments-button-prev"},pagination:{el:".treatments-pagination"},breakpoints:{768:{slidesPerView:2}}})}();new Swiper(".practices-slider",{slidesPerView:1,spaceBetween:40,navigation:{nextEl:".practices-button-next",prevEl:".practices-button-prev"},pagination:{el:".practices-pagination"},breakpoints:{768:{slidesPerView:2}}}),new Swiper(".testimonials-slider",{slidesPerView:1,spaceBetween:30,loop:!0,navigation:{nextEl:".testimonials-button-next",prevEl:".testimonials-button-prev"},pagination:{el:".testimonials-pagination"},breakpoints:{768:{slidesPerView:2},992:{slidesPerView:"auto",centeredSlides:!0}}}),new Swiper(".cases-slider",{slidesPerView:1,spaceBetween:30,navigation:{nextEl:".cases-button-next",prevEl:".cases-button-prev"},pagination:{el:".cases-pagination"},breakpoints:{768:{slidesPerView:2}}}),new Swiper(".socials__slider",{slidesPerView:1,spaceBetween:30,navigation:{nextEl:".socials-button-next",prevEl:".socials-button-prev"},pagination:{el:".socials-pagination"},breakpoints:{768:{slidesPerView:2},992:{slidesPerView:5}}})};var textarea=document.querySelector("textarea");function autosizeTextarea(){var e=this;setTimeout(function(){e.style.cssText="height:auto; padding:0",e.style.cssText="-moz-box-sizing:content-box",e.style.cssText="height:"+e.scrollHeight+"px"},0)}textarea&&textarea.addEventListener("keydown",autosizeTextarea),$("select").each(function(){var t=$(this),e=$(this).children("option").length;t.addClass("select__hidden"),t.wrap('<div class="select"></div>'),t.after('<div class="select__styled"></div>');var n=t.next("div.select__styled");n.append('<span></span><i class="icon-arrow-dropdown"></i>'),n.find("span").text(t.children("option").eq(0).text());for(var r=$("<ul />",{class:"select__options"}).insertAfter(n),o=0;o<e;o++)$("<li />",{text:t.children("option").eq(o).text(),rel:t.children("option").eq(o).val()}).appendTo(r);var i=r.children("li");n.click(function(e){e.stopPropagation(),$("div.select__styled.active").not(this).each(function(){$(this).removeClass("active").next("ul.select__options").slideUp(300)}),$(this).toggleClass("active").next("ul.select__options").slideToggle(300)}),i.click(function(e){e.stopPropagation(),n.find("span").text($(this).text()).removeClass("active"),t.val($(this).attr("rel")),r.slideUp(300)}),$(document).click(function(){n.removeClass("active"),r.slideUp(300)})});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJVSS9jb250YWN0cy1mb3JtL2NvbnRhY3RzLWZvcm0uanMiXSwibmFtZXMiOlsic2xpZGVVcCIsInRhcmdldCIsImR1cmF0aW9uIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwic3R5bGUiLCJ0cmFuc2l0aW9uUHJvcGVydHkiLCJ0cmFuc2l0aW9uRHVyYXRpb24iLCJoZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJvdmVyZmxvdyIsInBhZGRpbmdUb3AiLCJwYWRkaW5nQm90dG9tIiwibWFyZ2luVG9wIiwibWFyZ2luQm90dG9tIiwid2luZG93Iiwic2V0VGltZW91dCIsImRpc3BsYXkiLCJyZW1vdmVQcm9wZXJ0eSIsInNsaWRlRG93biIsImdldENvbXB1dGVkU3R5bGUiLCJzbGlkZVRvZ2dsZSIsIm9ubG9hZCIsIiQiLCJ2YWxpZGF0ZSIsImVycm9yQ2xhc3MiLCJlcnJvclBsYWNlbWVudCIsImVycm9yIiwiZWxlbWVudCIsInJ1bGVzIiwidXNlcl9uYW1lIiwicmVxdWlyZWQiLCJ1c2VyX2VtYWlsIiwiZW1haWwiLCJ1c2VyX3Bob25lIiwidXNlcl9kYXRlYmlydGgiLCJkZW50aXN0X25hbWUiLCJkZW50aXN0X2FkZHJlc3MiLCJkZW50aXN0X2VtYWlsIiwiZGVudGlzdF9waG9uZSIsImRlbnRpc3RfZ2RjIiwic3VibWl0SGFuZGxlciIsImZvcm0iLCJzdWJtaXQiLCJzY3JvbGxzcHlzIiwibGlua3NIZWlnaHQiLCJhbGxMaW5rcyIsImJ1cmdlciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImhlYWRlciIsInRlY2hub2xvZ3lDYXJkIiwicXVlcnlTZWxlY3RvckFsbCIsInRyZWF0bWVudHMiLCJ0cmVhdG1lbnRzU2lkZWJhciIsInRyZWF0bWVudHNEcm9wZG93blRyaWdnZXIiLCJ0cmVhdG1lbnRzRHJvcGRvd25JdGVtIiwidHJlYXRtZW50c1NpZGViYXJMaW5rIiwiYWRkRXZlbnRMaXN0ZW5lciIsImZvckVhY2giLCJjdXJyZW50Iiwib2Zmc2V0VG9wIiwiZG9jdW1lbnRFbGVtZW50Iiwic2Nyb2xsVG9wIiwiYm9keSIsImN1cnJlbnRMaW5rIiwicGFyZW50RWxlbWVudCIsImNsYXNzTGlzdCIsInJlbW92ZSIsInJlbW92ZUF0dHJpYnV0ZSIsImN1cnJlbnRJRCIsImdldEF0dHJpYnV0ZSIsImNvbmNhdCIsImFkZCIsImZpcnN0Q2hpbGQiLCJ0ZXh0Q29udGVudCIsIl9zdGVwIiwiX2l0ZXJhdG9yIiwiX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiLCJzIiwibiIsImRvbmUiLCJ2YWx1ZSIsImNsaWNrSGFuZGxlciIsImVyciIsImUiLCJmIiwicHJldmVudERlZmF1bHQiLCJocmVmIiwidGhpcyIsInNjcm9sbCIsInRvcCIsImJlaGF2aW9yIiwiT3ZlcmxheVNjcm9sbGJhcnMiLCJzZWN0aW9ucyIsIm1heFdpZHRoIiwidHJpZ2dlckl0ZW0iLCJmaWxlc1RhYmxlIiwiZHQiLCJEYXRhVHJhbnNmZXIiLCJvbiIsImkiLCJmaWxlcyIsImZpbGVCbG9jIiwiY2xhc3MiLCJ0ZXh0IiwiaXRlbSIsIm5hbWUiLCJhcHBlbmQiLCJfc3RlcDIiLCJfaXRlcmF0b3IyIiwiZmlsZSIsIml0ZW1zIiwiY2xpY2siLCJwYXJlbnQiLCJmaW5kIiwicGFyZW50cyIsImdldEFzRmlsZSIsImdldEVsZW1lbnRCeUlkIiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJjb250YWlucyIsIm5vdCIsImNsb3Nlc3QiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwiaGFzQ2xhc3MiLCJnc2FwIiwicmVnaXN0ZXJQbHVnaW4iLCJTY3JvbGxUcmlnZ2VyIiwidXRpbHMiLCJ0b0FycmF5IiwiZ2V0TWF4V2lkdGgiLCJzZWN0aW9uIiwib2Zmc2V0V2lkdGgiLCJ0byIsIngiLCJpbm5lcldpZHRoIiwiZWFzZSIsInNjcm9sbFRyaWdnZXIiLCJzdGFydCIsInRyaWdnZXIiLCJwaW4iLCJzY3J1YiIsImVuZCIsImludmFsaWRhdGVPblJlZnJlc2giLCJzY3QiLCJjcmVhdGUiLCJvZmZzZXRMZWZ0IiwidG9nZ2xlQ2xhc3MiLCJ0YXJnZXRzIiwiY2xhc3NOYW1lIiwib2Zmc2V0SXRlbSIsInNob3dUcmlnZ2VyIiwic2hvd0l0ZW0iLCJ0b2dnbGUiLCJfbG9vcCIsInNldFByb3BlcnR5Iiwic2Nyb2xsWSIsIl9sb29wMiIsIl9sb29wMyIsIlN3aXBlciIsInNsaWRlc1BlclZpZXciLCJzcGFjZUJldHdlZW4iLCJuYXZpZ2F0aW9uIiwibmV4dEVsIiwicHJldkVsIiwicGFnaW5hdGlvbiIsImVsIiwiYnJlYWtwb2ludHMiLCI3NjgiLCJsb29wIiwiOTkyIiwiY2VudGVyZWRTbGlkZXMiLCJ0ZXh0YXJlYSIsImF1dG9zaXplVGV4dGFyZWEiLCJjc3NUZXh0Iiwic2Nyb2xsSGVpZ2h0IiwiZWFjaCIsIiR0aGlzIiwibnVtYmVyT2ZPcHRpb25zIiwiY2hpbGRyZW4iLCJ3cmFwIiwiYWZ0ZXIiLCIkc3R5bGVkU2VsZWN0IiwibmV4dCIsImVxIiwiJGxpc3QiLCJpbnNlcnRBZnRlciIsInJlbCIsInZhbCIsImFwcGVuZFRvIiwiJGxpc3RJdGVtcyIsInN0b3BQcm9wYWdhdGlvbiIsImF0dHIiXSwibWFwcGluZ3MiOiJtcENBS0EsSUFBSUEsUUFBVSxTQUFDQyxHQUF5QixJQUFqQkMsRUFBaUIsRUFBQUMsVUFBQUMsYUFBQUMsSUFBQUYsVUFBQSxHQUFBQSxVQUFBLEdBQVIsSUFFOUJGLEVBQU9LLE1BQU1DLG1CQUFxQiwwQkFDbENOLEVBQU9LLE1BQU1FLG1CQUFxQk4sRUFBVyxLQUM3Q0QsRUFBT0ssTUFBTUcsT0FBU1IsRUFBT1MsYUFBZSxLQUM1Q1QsRUFBT1MsYUFDUFQsRUFBT0ssTUFBTUssU0FBVyxTQUN4QlYsRUFBT0ssTUFBTUcsT0FBUyxFQUN0QlIsRUFBT0ssTUFBTU0sV0FBYSxFQUMxQlgsRUFBT0ssTUFBTU8sY0FBZ0IsRUFDN0JaLEVBQU9LLE1BQU1RLFVBQVksRUFDekJiLEVBQU9LLE1BQU1TLGFBQWUsRUFDNUJDLE9BQU9DLFdBQVksV0FDYmhC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LEtBQUssc0JBQy9CRCxFQUFjNUUsT0FBTyxvREFDckI0RSxFQUFjckUsS0FBSyxRQUFRVixLQUFLMEUsRUFBTUUsU0FBUyxVQUFVSyxHQUFHLEdBQUdqRixRQU0vRCxJQUpBLElBQUlrRixFQUFRcEssRUFBRSxTQUFVLENBQ3RCaUYsTUFBUyxvQkFDUm9GLFlBQVlKLEdBRU5uRixFQUFJLEVBQUdBLEVBQUkrRSxFQUFpQi9FLElBQ25DOUUsRUFBRSxTQUFVLENBQ1ZrRixLQUFNMEUsRUFBTUUsU0FBUyxVQUFVSyxHQUFHckYsR0FBR0ksT0FDckNvRixJQUFLVixFQUFNRSxTQUFTLFVBQVVLLEdBQUdyRixHQUFHeUYsUUFDbkNDLFNBQVNKLEdBR2QsSUFBSUssRUFBYUwsRUFBTU4sU0FBUyxNQUVoQ0csRUFBY3ZFLE1BQU0sU0FBUzVCLEdBQzNCQSxFQUFFNEcsa0JBQ0YxSyxFQUFFLDZCQUE2Qm1HLElBQUlqQyxNQUFNeUYsS0FBSyxXQUM1QzNKLEVBQUVrRSxNQUFNbUMsWUFBWSxVQUFVNkQsS0FBSyxzQkFBc0IxTCxRQUFRLE9BRW5Fd0IsRUFBRWtFLE1BQU00RCxZQUFZLFVBQVVvQyxLQUFLLHNCQUFzQnBLLFlBQVksT0FHdkUySyxFQUFXL0UsTUFBTSxTQUFTNUIsR0FDeEJBLEVBQUU0RyxrQkFDRlQsRUFBY3JFLEtBQUssUUFBUVYsS0FBS2xGLEVBQUVrRSxNQUFNZ0IsUUFBUW1CLFlBQVksVUFDNUR1RCxFQUFNVyxJQUFJdkssRUFBRWtFLE1BQU15RyxLQUFLLFFBQ3ZCUCxFQUFNNUwsUUFBUSxPQUdoQndCLEVBQUV5QixVQUFVaUUsTUFBTSxXQUNoQnVFLEVBQWM1RCxZQUFZLFVBQzFCK0QsRUFBTTVMLFFBQVEiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTY3JvbGwgdG8gdGhlIHRvcCBiZWZvcmUgdGhlIHBhZ2UgbG9hZHNcclxuLy8gd2luZG93Lm9uYmVmb3JldW5sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4vLyAgIHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcclxuLy8gfVxyXG5cclxubGV0IHNsaWRlVXAgPSAodGFyZ2V0LCBkdXJhdGlvbj01MDApID0+IHtcclxuXHJcbiAgdGFyZ2V0LnN0eWxlLnRyYW5zaXRpb25Qcm9wZXJ0eSA9ICdoZWlnaHQsIG1hcmdpbiwgcGFkZGluZyc7XHJcbiAgdGFyZ2V0LnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IGR1cmF0aW9uICsgJ21zJztcclxuICB0YXJnZXQuc3R5bGUuaGVpZ2h0ID0gdGFyZ2V0Lm9mZnNldEhlaWdodCArICdweCc7XHJcbiAgdGFyZ2V0Lm9mZnNldEhlaWdodDtcclxuICB0YXJnZXQuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcclxuICB0YXJnZXQuc3R5bGUuaGVpZ2h0ID0gMDtcclxuICB0YXJnZXQuc3R5bGUucGFkZGluZ1RvcCA9IDA7XHJcbiAgdGFyZ2V0LnN0eWxlLnBhZGRpbmdCb3R0b20gPSAwO1xyXG4gIHRhcmdldC5zdHlsZS5tYXJnaW5Ub3AgPSAwO1xyXG4gIHRhcmdldC5zdHlsZS5tYXJnaW5Cb3R0b20gPSAwO1xyXG4gIHdpbmRvdy5zZXRUaW1lb3V0KCAoKSA9PiB7XHJcbiAgICAgICAgdGFyZ2V0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KCdoZWlnaHQnKTtcclxuICAgICAgICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ3BhZGRpbmctdG9wJyk7XHJcbiAgICAgICAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KCdwYWRkaW5nLWJvdHRvbScpO1xyXG4gICAgICAgIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnbWFyZ2luLXRvcCcpO1xyXG4gICAgICAgIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnbWFyZ2luLWJvdHRvbScpO1xyXG4gICAgICAgIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnb3ZlcmZsb3cnKTtcclxuICAgICAgICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ3RyYW5zaXRpb24tZHVyYXRpb24nKTtcclxuICAgICAgICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ3RyYW5zaXRpb24tcHJvcGVydHknKTtcclxuICAgICAgICAvL2FsZXJ0KFwiIVwiKTtcclxuICB9LCBkdXJhdGlvbik7XHJcbn1cclxuXHJcbmxldCBzbGlkZURvd24gPSAodGFyZ2V0LCBkdXJhdGlvbj01MDApID0+IHtcclxuXHJcbiAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KCdkaXNwbGF5Jyk7XHJcbiAgbGV0IGRpc3BsYXkgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXQpLmRpc3BsYXk7XHJcbiAgaWYgKGRpc3BsYXkgPT09ICdub25lJykgZGlzcGxheSA9ICdibG9jayc7XHJcbiAgdGFyZ2V0LnN0eWxlLmRpc3BsYXkgPSBkaXNwbGF5O1xyXG4gIGxldCBoZWlnaHQgPSB0YXJnZXQub2Zmc2V0SGVpZ2h0O1xyXG4gIHRhcmdldC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xyXG4gIHRhcmdldC5zdHlsZS5oZWlnaHQgPSAwO1xyXG4gIHRhcmdldC5zdHlsZS5wYWRkaW5nVG9wID0gMDtcclxuICB0YXJnZXQuc3R5bGUucGFkZGluZ0JvdHRvbSA9IDA7XHJcbiAgdGFyZ2V0LnN0eWxlLm1hcmdpblRvcCA9IDA7XHJcbiAgdGFyZ2V0LnN0eWxlLm1hcmdpbkJvdHRvbSA9IDA7XHJcbiAgdGFyZ2V0Lm9mZnNldEhlaWdodDtcclxuICB0YXJnZXQuc3R5bGUudHJhbnNpdGlvblByb3BlcnR5ID0gXCJoZWlnaHQsIG1hcmdpbiwgcGFkZGluZ1wiO1xyXG4gIHRhcmdldC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSBkdXJhdGlvbiArICdtcyc7XHJcbiAgdGFyZ2V0LnN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCc7XHJcbiAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KCdwYWRkaW5nLXRvcCcpO1xyXG4gIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgncGFkZGluZy1ib3R0b20nKTtcclxuICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ21hcmdpbi10b3AnKTtcclxuICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ21hcmdpbi1ib3R0b20nKTtcclxuICB3aW5kb3cuc2V0VGltZW91dCggKCkgPT4ge1xyXG4gICAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KCdoZWlnaHQnKTtcclxuICAgIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnb3ZlcmZsb3cnKTtcclxuICAgIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgndHJhbnNpdGlvbi1kdXJhdGlvbicpO1xyXG4gICAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KCd0cmFuc2l0aW9uLXByb3BlcnR5Jyk7XHJcbiAgfSwgZHVyYXRpb24pO1xyXG59XHJcblxyXG5sZXQgc2xpZGVUb2dnbGUgPSAodGFyZ2V0LCBkdXJhdGlvbiA9IDUwMCkgPT4ge1xyXG4gIGlmICh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXQpLmRpc3BsYXkgPT09ICdub25lJykge1xyXG4gICAgcmV0dXJuIHNsaWRlRG93bih0YXJnZXQsIGR1cmF0aW9uKTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIHNsaWRlVXAodGFyZ2V0LCBkdXJhdGlvbik7XHJcbiAgfVxyXG59XHJcblxyXG53aW5kb3cub25sb2FkID0gKCkgPT4ge1xyXG4gIC8vIFZhbGlkYXRlIGZvcm1cclxuICAkKFwiLmZvcm1cIikudmFsaWRhdGUoe1xyXG4gICAgZXJyb3JDbGFzczogJ2ludmFsaWQnLFxyXG4gICAgZXJyb3JQbGFjZW1lbnQ6IGZ1bmN0aW9uKGVycm9yLCBlbGVtZW50KSB7fSxcclxuICAgIHJ1bGVzOiB7XHJcbiAgICAgIHVzZXJfbmFtZToge1xyXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICB9LFxyXG4gICAgICB1c2VyX2VtYWlsOiB7XHJcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgZW1haWw6IHRydWVcclxuICAgICAgfSxcclxuICAgICAgdXNlcl9waG9uZToge1xyXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICB9LFxyXG4gICAgICB1c2VyX2RhdGViaXJ0aDoge1xyXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICB9LFxyXG4gICAgICBkZW50aXN0X25hbWU6IHtcclxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgfSxcclxuICAgICAgZGVudGlzdF9hZGRyZXNzOiB7XHJcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgIH0sXHJcbiAgICAgIGRlbnRpc3RfZW1haWw6IHtcclxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICBlbWFpbDogdHJ1ZSxcclxuICAgICAgfSxcclxuICAgICAgZGVudGlzdF9waG9uZToge1xyXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICB9LFxyXG4gICAgICBkZW50aXN0X2dkYzoge1xyXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIHN1Ym1pdEhhbmRsZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAvLyB2YXIgYm94ZXMgPSAkKCcudG9vdGhfX2NoZWNrYm94Jyk7XHJcbiAgICAgIC8vIGlmKGJveGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgLy8gICBpZiggJCgnLnRvb3RoX19jaGVja2JveDpjaGVja2VkJykubGVuZ3RoIDwgMSkge1xyXG4gICAgICAvLyAgICAgYm94ZXMucGFyZW50cygnLnRvb3RoX19pdGVtJykuYWRkQ2xhc3MoJ2ludmFsaWQnKVxyXG4gICAgICAvLyAgICAgYm94ZXNbMF0uZm9jdXMoKTtcclxuICAgICAgLy8gICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgLy8gICB9XHJcbiAgICAgIC8vIH1cclxuICAgICAgZm9ybS5zdWJtaXQoKTtcclxuICAgIH1cclxuICB9KTtcclxuICBcclxuICAvLyBWYXJpYWJlbHNcclxuICBsZXQgYnVyZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idXJnZXJcIik7XHJcbiAgbGV0IGhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyXCIpO1xyXG4gIGxldCB0ZWNobm9sb2d5Q2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50ZWNobm9sb2d5LWNhcmQnKTtcclxuICAvLyBsZXQgdGVjaG5vbG9neUNhcmRCb2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRlY2hub2xvZ3ktY2FyZF9fYm9keScpXHJcbiAgLy8gbGV0IHRhYkNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRhYnNfX2l0ZW1cIik7XHJcbiAgLy8gbGV0IHRhYkl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRhYnNfX3RyaWdnZXJcIik7XHJcbiAgLy8gbGV0IHRhYkRyb3Bkb3duVHJpZ2dlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudHJlYXRtZW50cyAuZHJvcGRvd25fX3RyaWdnZXIgLmRyb3Bkb3duX190cmlnZ2VyLXRleHRcIik7XHJcbiAgbGV0IHRyZWF0bWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudHJlYXRtZW50cycpO1xyXG4gIGxldCB0cmVhdG1lbnRzU2lkZWJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudHJlYXRtZW50cy1zaWRlYmFyXCIpO1xyXG4gIGxldCB0cmVhdG1lbnRzRHJvcGRvd25UcmlnZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50cmVhdG1lbnRzIC5kcm9wZG93bl9fdHJpZ2dlclwiKTtcclxuICBsZXQgdHJlYXRtZW50c0Ryb3Bkb3duSXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudHJlYXRtZW50cyAuZHJvcGRvd25fX2l0ZW1cIik7XHJcbiAgbGV0IHRyZWF0bWVudHNTaWRlYmFyTGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudHJlYXRtZW50cy1zaWRlYmFyIGFcIik7XHJcblxyXG4gIC8vIFNweXNjcm9sbFxyXG4gIGlmICh0cmVhdG1lbnRzU2lkZWJhcikge1xyXG4gICAgbGV0IHNjcm9sbHNweXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRyZWF0bWVudHMtY29udGVudF9faXRlbVwiKTtcclxuICAgIGxldCBsaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudHJlYXRtZW50cy1zaWRlYmFyIGFcIik7XHJcbiAgICBsZXQgbGlua3NIZWlnaHQgPSBsaW5rcy5vZmZzZXRIZWlnaHQ7XHJcbiAgICBsZXQgYWxsTGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRyZWF0bWVudHMtc2lkZWJhciBhXCIpO1xyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBzY3JvbGxzcHkoKSB7XHJcbiAgICAgIHNjcm9sbHNweXMuZm9yRWFjaChjdXJyZW50ID0+IHtcclxuICAgICAgICBsZXQgXyA9IGN1cnJlbnQ7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRFbGVtZW50T2Zmc2V0ID0gXy5vZmZzZXRUb3AgLSAxNTA7XHJcbiAgICAgICAgbGV0IHNjcm9sbFBvc2l0aW9uID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcDtcclxuICAgICAgICBpZiAoY3VycmVudEVsZW1lbnRPZmZzZXQgPD0gc2Nyb2xsUG9zaXRpb24gKyBsaW5rc0hlaWdodCkge1xyXG4gICAgICAgICAgYWxsTGlua3MuZm9yRWFjaChjdXJyZW50TGluayA9PiB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRMaW5rLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImpzLWN1cnJlbnRcIik7XHJcbiAgICAgICAgICAgIGN1cnJlbnRMaW5rLnBhcmVudEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiY2xhc3NcIik7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGNvbnN0IGN1cnJlbnRJRCA9IGN1cnJlbnQuZ2V0QXR0cmlidXRlKFwiaWRcIik7XHJcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBhW2hyZWY9XCIjJHtjdXJyZW50SUR9XCJdYCkucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwianMtY3VycmVudFwiKTtcclxuICAgICAgICAgIHRyZWF0bWVudHNEcm9wZG93blRyaWdnZXIuZmlyc3RDaGlsZC50ZXh0Q29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudHJlYXRtZW50cy1zaWRlYmFyIGxpLmpzLWN1cnJlbnQgYVwiKS50ZXh0Q29udGVudFxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgKCkgPT4ge1xyXG4gICAgICBzY3JvbGxzcHkoKVxyXG4gICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIG51bGxcclxuICB9XHJcblxyXG4gIC8vIFNjcm9sbCB0byBjb250YWN0cy1mb3JtXHJcbiAgY29uc3QgbGlua3NTY3JvbGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNjcm9sbF9fbGlua1wiKTtcclxuXHJcbiAgZm9yIChjb25zdCBsaW5rIG9mIGxpbmtzU2Nyb2xsKSB7XHJcbiAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbGlja0hhbmRsZXIpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY2xpY2tIYW5kbGVyKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGNvbnN0IGhyZWYgPSB0aGlzLmdldEF0dHJpYnV0ZShcImhyZWZcIik7XHJcbiAgICBjb25zdCBvZmZzZXRUb3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGhyZWYpLm9mZnNldFRvcDtcclxuXHJcbiAgICBzY3JvbGwoe1xyXG4gICAgICB0b3A6IG9mZnNldFRvcCAtIDE1MCxcclxuICAgICAgYmVoYXZpb3I6IFwic21vb3RoXCJcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gTWFuaXB1bGF0aW9ucyB3aXRoIGhlYWRlciBjbGFzc2VzIG9uIHNjcm9sbFxyXG4gIGxldCBzY3JvbGxDaGFuZ2UgPSAxO1xyXG5cclxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCAoKSA9PiB7XHJcbiAgICBsZXQgc2Nyb2xsID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xyXG5cclxuICAgIGlmIChzY3JvbGwgPj0gc2Nyb2xsQ2hhbmdlKSB7XHJcbiAgICAgIGhlYWRlci5jbGFzc0xpc3QuYWRkKFwianMtc2Nyb2xsLWRvd25cIik7XHJcbiAgICAgIGhlYWRlci5jbGFzc0xpc3QucmVtb3ZlKFwianMtc2Nyb2xsLXRvcFwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGhlYWRlci5jbGFzc0xpc3QuYWRkKFwianMtc2Nyb2xsLXRvcFwiKTtcclxuICAgICAgaGVhZGVyLmNsYXNzTGlzdC5yZW1vdmUoXCJqcy1zY3JvbGwtZG93blwiLCBcImpzLW5hdi1vcGVuXCIsIFwianMtbmF2LWNsb3NlXCIpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAvLyAvLyBUYWJzXHJcbiAgLy8gZm9yIChsZXQgaSA9IDA7IGkgPCB0YWJJdGVtLmxlbmd0aDsgaSsrKSB7XHJcbiAgLy8gICB0YWJJdGVtW2ldLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblxyXG4gIC8vICAgICB0YWJDb250ZW50LmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAvLyAgICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJqcy1hY3RpdmVcIik7XHJcbiAgLy8gICAgIH0pO1xyXG5cclxuICAvLyAgICAgdGFiSXRlbS5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgLy8gICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKFwianMtYWN0aXZlXCIpO1xyXG4gIC8vICAgICB9KTtcclxuXHJcbiAgLy8gICAgIHRhYkNvbnRlbnRbaV0uY2xhc3NMaXN0LmFkZChcImpzLWFjdGl2ZVwiKTtcclxuICAvLyAgICAgdGFiSXRlbVtpXS5jbGFzc0xpc3QuYWRkKFwianMtYWN0aXZlXCIpO1xyXG5cclxuICAvLyAgICAgdGFiRHJvcGRvd25UcmlnZ2VyLnRleHRDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YWJzX190cmlnZ2VyLmpzLWFjdGl2ZVwiKS50ZXh0Q29udGVudFxyXG4gIC8vICAgfSk7XHJcbiAgLy8gfSBcclxuICBcclxuICAvLyBpZiAodGFiRHJvcGRvd25UcmlnZ2VyKSB7XHJcbiAgLy8gICB0YWJEcm9wZG93blRyaWdnZXIudGV4dENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhYnNfX3RyaWdnZXIuanMtYWN0aXZlXCIpLnRleHRDb250ZW50XHJcbiAgLy8gfVxyXG5cclxuICAvLyBDdXN0b20gc2Nyb2xsYmFyIGluIHRvb3RoIHRhYmxlXHJcbiAgT3ZlcmxheVNjcm9sbGJhcnMoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi50b290aFwiKSwge30pO1xyXG5cclxuICAvLyBGaWxlcyBpbnB1dFxyXG4gIC8vIGxldCBmaWxlc1RyaWdnZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsZScpO1xyXG4gIGxldCBmaWxlc1RhYmxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZpbGVzX190YWJsZScpO1xyXG4gIFxyXG4gIC8vIGxldCB1cGRhdGVGaWxlc0xpc3QgPSAoKSA9PiB7XHJcbiAgLy8gICBsZXQgY2hpbGRyZW4gPSBcIlwiO1xyXG4gIC8vICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWxlc1RyaWdnZXIuZmlsZXMubGVuZ3RoOyArK2kpIHtcclxuICAvLyAgICAgY2hpbGRyZW4gKz0gICc8ZGl2IGNsYXNzPVwiZmlsZXNfX3dyYXBwZXJcIj4nICsgJzxkaXYgY2xhc3M9XCJmaWxlcy1pdGVtXCI+JyArICc8aSBjbGFzcz1cImljb24tZmlsZVwiPjwvaT4nICsgJzxzcGFuIGNsYXNzPVwiZmlsZXMtaXRlbV9fbmFtZVwiPicgKyBmaWxlc1RyaWdnZXIuZmlsZXMuaXRlbShpKS5uYW1lICsgJzwvc3Bhbi8+JyArICc8aSBjbGFzcz1cImZpbGVzLWl0ZW1fX3JlbW92ZSBpY29uLXRyYXNoLWNhblwiIG9uY2xpY2s9XCJyZXR1cm4gdGhpcy5wYXJlbnROb2RlLnBhcmVudE5vZGUucmVtb3ZlKCk7XCI+PC9pPicgKyAnPC9kaXY+JyArICc8L2Rpdj4nXHJcbiAgLy8gICB9XHJcbiAgLy8gICBmaWxlc1RhYmxlLmlubmVySFRNTCA9IGNoaWxkcmVuO1xyXG4gIC8vICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA+PSAwKSB7XHJcbiAgLy8gICAgIGZpbGVzVGFibGUuc3R5bGUuZGlzcGxheSA9ICdmbGV4J1xyXG4gIC8vICAgfSBlbHNlIHtcclxuICAvLyAgICAgZmlsZXNUYWJsZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcbiAgLy8gICB9XHJcbiAgLy8gfVxyXG5cclxuICAvLyBpZiAoZmlsZXNUcmlnZ2VyKSB7XHJcbiAgLy8gICBmaWxlc1RyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoKSA9PiB7XHJcbiAgLy8gICAgIHVwZGF0ZUZpbGVzTGlzdCgpXHJcbiAgLy8gICB9KVxyXG4gIC8vIH1cclxuXHJcbiAgY29uc3QgZHQgPSBuZXcgRGF0YVRyYW5zZmVyKCk7XHJcblxyXG4gICQoXCIjZmlsZVwiKS5vbignY2hhbmdlJywgZnVuY3Rpb24oZSl7XHJcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5maWxlcy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgIGxldCBmaWxlQmxvYyA9ICQoJzxkaXYvPicsIHtjbGFzczogJ2ZpbGVzX193cmFwcGVyJ30pLFxyXG4gICAgICAgIGZpbGVOYW1lID0gJCgnPGZpbGVzLWl0ZW0vPicsIHtjbGFzczogJ25hbWUnLCB0ZXh0OiB0aGlzLmZpbGVzLml0ZW0oaSkubmFtZX0pO1xyXG4gICAgICBmaWxlQmxvYy5hcHBlbmQoYDxkaXYgY2xhc3M9XCJmaWxlcy1pdGVtXCI+PGkgY2xhc3M9XCJpY29uLWZpbGVcIj48L2k+PHNwYW4gY2xhc3M9XCJmaWxlcy1pdGVtX19uYW1lXCI+JHt0aGlzLmZpbGVzLml0ZW0oaSkubmFtZX08L3NwYW4+PGkgY2xhc3M9XCJmaWxlcy1pdGVtX19yZW1vdmUgaWNvbi10cmFzaC1jYW5cIj48L2k+PGRpdj48ZGl2PmApXHJcbiAgICAgICQoXCIuZmlsZXNfX3RhYmxlXCIpLmFwcGVuZChmaWxlQmxvYyk7XHJcbiAgICB9O1xyXG4gICAgZm9yIChsZXQgZmlsZSBvZiB0aGlzLmZpbGVzKSB7XHJcbiAgICAgIGR0Lml0ZW1zLmFkZChmaWxlKTtcclxuICAgIH1cclxuICAgIHRoaXMuZmlsZXMgPSBkdC5maWxlcztcclxuXHJcbiAgICBpZiAodGhpcy5maWxlcy5sZW5ndGggPj0gMCkge1xyXG4gICAgICBmaWxlc1RhYmxlLnN0eWxlLmRpc3BsYXkgPSAnZmxleCdcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGZpbGVzVGFibGUuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG4gICAgfVxyXG4gIFxyXG4gICAgJCgnLmZpbGVzLWl0ZW1fX3JlbW92ZScpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgIGxldCBuYW1lID0gJCh0aGlzKS5wYXJlbnQoKS5maW5kKCcuZmlsZXMtaXRlbV9fbmFtZScpLnRleHQoKTtcclxuICAgICAgJCh0aGlzKS5wYXJlbnRzKCcuZmlsZXNfX3dyYXBwZXInKS5yZW1vdmUoKTtcclxuICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGR0Lml0ZW1zLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICBpZihuYW1lID09PSBkdC5pdGVtc1tpXS5nZXRBc0ZpbGUoKS5uYW1lKXtcclxuICAgICAgICAgIGR0Lml0ZW1zLnJlbW92ZShpKTtcclxuICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsZScpLmZpbGVzID0gZHQuZmlsZXM7XHJcbiAgICB9KTtcclxuICB9KTtcclxuICBcclxuICAvLyBNZWRpYSA5OTIgPT09PT0+XHJcbiAgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKFwiKG1pbi13aWR0aDogOTkycHgpXCIpLm1hdGNoZXMpIHtcclxuICAgIC8vIE9wZW5pbmcgZGVza3RvcCBtZW51IHdpdGggYnVyZ2VyXHJcbiAgICBidXJnZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgaWYgKGhlYWRlci5jbGFzc0xpc3QuY29udGFpbnMoXCJqcy1uYXYtb3BlblwiKSkge1xyXG4gICAgICAgIGhlYWRlci5jbGFzc0xpc3QucmVtb3ZlKFwianMtbmF2LW9wZW5cIik7XHJcbiAgICAgICAgaGVhZGVyLmNsYXNzTGlzdC5hZGQoXCJqcy1uYXYtY2xvc2VcIik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaGVhZGVyLmNsYXNzTGlzdC5hZGQoXCJqcy1uYXYtb3BlblwiKTtcclxuICAgICAgICBoZWFkZXIuY2xhc3NMaXN0LnJlbW92ZShcImpzLW5hdi1jbG9zZVwiKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gT3BlbmluZyB0ZWNobm9sb2d5IGFjY29yZGlvblxyXG4gICAgJCgnLnRlY2hub2xvZ3lfX3dyYXBwZXInKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICQoXCIudGVjaG5vbG9neV9fd3JhcHBlclwiKS5ub3QoJCh0aGlzKS5jbG9zZXN0KFwiLnRlY2hub2xvZ3lfX3dyYXBwZXJcIikpLnJlbW92ZUNsYXNzKFwianMtYWN0aXZlXCIpO1xyXG4gICAgICAkKHRoaXMpLmNsb3Nlc3QoXCIudGVjaG5vbG9neV9fd3JhcHBlclwiKS5hZGRDbGFzcyhcImpzLWFjdGl2ZVwiKTtcclxuICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ2pzLWFjdGl2ZScpKSB7XHJcbiAgICAgICAgJCgnLnRlY2hub2xvZ3ktY2FyZF9fYm9keScpLm5vdCgkKHRoaXMpLmZpbmQoJy50ZWNobm9sb2d5LWNhcmRfX2JvZHknKSkuc2xpZGVVcCgzMDApO1xyXG4gICAgICAgICQodGhpcykuZmluZCgnLnRlY2hub2xvZ3ktY2FyZF9fYm9keScpLnNsaWRlRG93bigzMDApO1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIC8vIGZvciAobGV0IGkgPSAwOyBpIDwgdGVjaG5vbG9neUNhcmQubGVuZ3RoOyBpKyspIHtcclxuICAgIC8vICAgdGVjaG5vbG9neUNhcmRbaV0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIC8vICAgICB0ZWNobm9sb2d5Q2FyZC5mb3JFYWNoKChlbGVtZW50KSA9PiB7XHJcbiAgICAvLyAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJqcy1hY3RpdmVcIik7XHJcbiAgICAvLyAgICAgfSk7XHJcblxyXG4gICAgLy8gICAgIC8vIHRlY2hub2xvZ3lDYXJkQm9keS5mb3JFYWNoKChlbGVtZW50KSA9PiB7XHJcbiAgICAvLyAgICAgLy8gICBzbGlkZVVwKGVsZW1lbnQpXHJcbiAgICAvLyAgICAgLy8gfSk7XHJcblxyXG4gICAgLy8gICAgIHRlY2hub2xvZ3lDYXJkW2ldLmNsYXNzTGlzdC5hZGQoJ2pzLWFjdGl2ZScpO1xyXG5cclxuICAgIC8vICAgICAvLyBBZGQgY2xhc3MgdG8gdGhlIGVsZW1lbnQgdGhhdCB3YXMgY2xpY2tlZFxyXG4gICAgLy8gICAgIHNsaWRlRG93bih0ZWNobm9sb2d5Q2FyZEJvZHlbaV0sIDMwMClcclxuICAgIC8vICAgfSk7XHJcbiAgICAvLyB9XHJcbiAgICBcclxuXHJcbiAgICBsZXQgaG9yaXpvbnRhbFNjcm9sbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ob3Jpem9udGFsLXNjcm9sbCcpXHJcblxyXG4gICAgaWYgKGhvcml6b250YWxTY3JvbGwpIHtcclxuICAgICAgLy8gSG9yaXpvbnRhbCBzY3JvbGwgaW4gVHJlYXRtZW50cyA9PT09PT5cclxuICAgICAgZ3NhcC5yZWdpc3RlclBsdWdpbihTY3JvbGxUcmlnZ2VyKTtcclxuICBcclxuICAgICAgY29uc3Qgc2VjdGlvbnMgPSBnc2FwLnV0aWxzLnRvQXJyYXkoXCIuaG9yaXpvbnRhbC1zY3JvbGxcIik7XHJcbiAgICAgIGxldCBtYXhXaWR0aCA9IDA7XHJcbiAgXHJcbiAgICAgIGNvbnN0IGdldE1heFdpZHRoID0gKCkgPT4ge1xyXG4gICAgICAgIG1heFdpZHRoID0gMDtcclxuICAgICAgICBzZWN0aW9ucy5mb3JFYWNoKChzZWN0aW9uKSA9PiB7XHJcbiAgICAgICAgICBtYXhXaWR0aCArPSBzZWN0aW9uLm9mZnNldFdpZHRoO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9O1xyXG4gICAgICBnZXRNYXhXaWR0aCgpO1xyXG4gICAgICBTY3JvbGxUcmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJyZWZyZXNoSW5pdFwiLCBnZXRNYXhXaWR0aCk7XHJcbiAgXHJcbiAgICAgIGxldCB0cmlnZ2VySXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50cmVhdG1lbnRzJyk7XHJcbiAgXHJcbiAgICAgIGdzYXAudG8oc2VjdGlvbnMsIHtcclxuICAgICAgICB4OiAoKSA9PiBgLSR7bWF4V2lkdGggLSB3aW5kb3cuaW5uZXJXaWR0aH1gLFxyXG4gICAgICAgIGVhc2U6IFwibm9uZVwiLFxyXG4gICAgICAgIHNjcm9sbFRyaWdnZXI6IHtcclxuICAgICAgICAgIHN0YXJ0OiBcIi0xMjBweCB0b3BcIixcclxuICAgICAgICAgIHRyaWdnZXI6IHRyaWdnZXJJdGVtLFxyXG4gICAgICAgICAgcGluOiB0cnVlLFxyXG4gICAgICAgICAgc2NydWI6IHRydWUsXHJcbiAgICAgICAgICBlbmQ6ICgpID0+IGArPSR7bWF4V2lkdGh9YCxcclxuICAgICAgICAgIGludmFsaWRhdGVPblJlZnJlc2g6IHRydWVcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gIFxyXG4gICAgICBzZWN0aW9ucy5mb3JFYWNoKChzY3QsIGkpID0+IHtcclxuICAgICAgICBTY3JvbGxUcmlnZ2VyLmNyZWF0ZSh7XHJcbiAgICAgICAgICB0cmlnZ2VyOiBzY3QsXHJcbiAgICAgICAgICBzdGFydDogKCkgPT4gJ3RvcCB0b3AtPScgKyAoc2N0Lm9mZnNldExlZnQgLSB3aW5kb3cuaW5uZXJXaWR0aC8yKSAqIChtYXhXaWR0aCAvIChtYXhXaWR0aCAtIHdpbmRvdy5pbm5lcldpZHRoKSksXHJcbiAgICAgICAgICBlbmQ6ICgpID0+ICcrPScgKyBzY3Qub2Zmc2V0V2lkdGggKiAobWF4V2lkdGggLyAobWF4V2lkdGggLSB3aW5kb3cuaW5uZXJXaWR0aCkpLFxyXG4gICAgICAgICAgdG9nZ2xlQ2xhc3M6IHt0YXJnZXRzOiBzY3QsIGNsYXNzTmFtZTogXCJhY3RpdmVcIn1cclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICB9IGVsc2Uge1xyXG4gICAgLy8gVG9nZ2xlIHZpc2libGUgZWxlbWVudHNcclxuICAgIGxldCBzaG93VHJpZ2dlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2hvd19fdHJpZ2dlclwiKTtcclxuICAgIGxldCBzaG93SXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2hvd19faXRlbVwiKTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNob3dUcmlnZ2VyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHNob3dUcmlnZ2VyW2ldLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgc2hvd1RyaWdnZXJbaV0uY2xhc3NMaXN0LnRvZ2dsZSgnanMtYWN0aXZlJylcclxuXHJcbiAgICAgICAgaWYgKHNob3dUcmlnZ2VyW2ldLmNsYXNzTGlzdC5jb250YWlucyhcImpzLWFjdGl2ZVwiKSkge1xyXG4gICAgICAgICAgc2hvd1RyaWdnZXJbaV0udGV4dENvbnRlbnQgPSAnU2VlIGxlc3MnXHJcbiAgICAgICAgICBzaG93SXRlbS5mb3JFYWNoKChlbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIlxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHNob3dUcmlnZ2VyW2ldLnRleHRDb250ZW50ID0gJ1NlZSBhbGwnXHJcbiAgICAgICAgICBzaG93SXRlbS5mb3JFYWNoKChlbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gVHJlYXRtZW50cyBwYWdlIHRhYnMgbmF2aWdhdGlvblxyXG4gICAgLy8gbGV0IHRyZWF0bWVudHNEcm9wZG93biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudHJlYXRtZW50cyAuZHJvcGRvd25cIik7XHJcbiAgICAvLyBsZXQgdHJlYXRtZW50c0Ryb3Bkb3duTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudHJlYXRtZW50cyAuZHJvcGRvd25fX2xpc3RcIik7XHJcblxyXG4gICAgLy8gaWYgKHRyZWF0bWVudHNEcm9wZG93biAmJiB0cmVhdG1lbnRzRHJvcGRvd25MaXN0KSB7XHJcbiAgICAvLyAgIGxldCBvZmZzZXRJdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRyb3Bkb3duX19saXN0Jykub2Zmc2V0SGVpZ2h0XHJcbiAgICAvLyAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tdHJlYXRtZW50cy1kcm9wZG93bi1vZmZzZXRcIiwgb2Zmc2V0SXRlbSArIFwicHhcIilcclxuICAgIFxyXG4gICAgLy8gICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCAoKSA9PiB7XHJcbiAgICAgICAgXHJcbiAgICAvLyAgICAgaWYgKHdpbmRvdy5zY3JvbGxZID4gb2Zmc2V0SXRlbSArIDY0ICkge1xyXG4gICAgLy8gICAgICAgdHJlYXRtZW50c0Ryb3Bkb3duLmNsYXNzTGlzdC5hZGQoXCJqcy1zY3JvbGwtZG93blwiKTtcclxuICAgIC8vICAgICAgIHRyZWF0bWVudHNEcm9wZG93bkxpc3Quc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG4gICAgLy8gICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRyZWF0bWVudHMnKS5jbGFzc0xpc3QuYWRkKFwib2Zmc2V0LXRvcFwiKVxyXG4gICAgLy8gICAgIH0gZWxzZSB7XHJcbiAgICAvLyAgICAgICB0cmVhdG1lbnRzRHJvcGRvd24uY2xhc3NMaXN0LnJlbW92ZShcImpzLXNjcm9sbC1kb3duXCIpO1xyXG4gICAgLy8gICAgICAgdHJlYXRtZW50c0Ryb3Bkb3duTGlzdC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJ1xyXG4gICAgLy8gICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRyZWF0bWVudHMnKS5jbGFzc0xpc3QucmVtb3ZlKFwib2Zmc2V0LXRvcFwiKVxyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgfSk7XHJcblxyXG4gICAgLy8gICB0cmVhdG1lbnRzRHJvcGRvd24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAvLyAgICAgaWYgKHRyZWF0bWVudHNEcm9wZG93bi5jbGFzc0xpc3QuY29udGFpbnMoXCJqcy1zY3JvbGwtZG93blwiKSkge1xyXG4gICAgLy8gICAgICAgc2xpZGVUb2dnbGUodHJlYXRtZW50c0Ryb3Bkb3duTGlzdCwgMzAwKTtcclxuICAgIC8vICAgICB9IGVsc2Uge1xyXG4gICAgLy8gICAgICAgbnVsbFxyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgfSk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgaWYgKHRyZWF0bWVudHNEcm9wZG93blRyaWdnZXIgJiYgdHJlYXRtZW50c0Ryb3Bkb3duSXRlbSkge1xyXG4gICAgICBsZXQgb2Zmc2V0SXRlbSA9IHRyZWF0bWVudHNEcm9wZG93bkl0ZW0ub2Zmc2V0SGVpZ2h0XHJcbiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tdHJlYXRtZW50cy1kcm9wZG93bi1vZmZzZXRcIiwgb2Zmc2V0SXRlbSArIFwicHhcIik7XHJcbiAgICAgIFxyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHdpbmRvdy5zY3JvbGxZID4gb2Zmc2V0SXRlbSArIDY0ICkge1xyXG4gICAgICAgICAgdHJlYXRtZW50c1NpZGViYXIuY2xhc3NMaXN0LmFkZChcImpzLXNjcm9sbC1kb3duXCIpO1xyXG4gICAgICAgICAgdHJlYXRtZW50cy5jbGFzc0xpc3QuYWRkKFwib2Zmc2V0LXRvcFwiKTtcclxuICAgICAgICAgIHRyZWF0bWVudHNEcm9wZG93bkl0ZW0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG5cclxuICAgICAgICAgIGlmICh0cmVhdG1lbnRzU2lkZWJhci5jbGFzc0xpc3QuY29udGFpbnMoXCJqcy1zY3JvbGwtZG93blwiKSkge1xyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmVhdG1lbnRzU2lkZWJhckxpbmsubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICB0cmVhdG1lbnRzU2lkZWJhckxpbmtbaV0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRyZWF0bWVudHNTaWRlYmFyTGluay5mb3JFYWNoKChlbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwianMtY3VycmVudFwiKVxyXG4gICAgICAgICAgICAgICAgICBlbGVtZW50LnBhcmVudEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiY2xhc3NcIilcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRyZWF0bWVudHNTaWRlYmFyTGlua1tpXS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJqcy1jdXJyZW50XCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRyZWF0bWVudHNEcm9wZG93blRyaWdnZXIuZmlyc3RDaGlsZC50ZXh0Q29udGVudCA9IHRyZWF0bWVudHNTaWRlYmFyTGlua1tpXS50ZXh0Q29udGVudFxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0cmVhdG1lbnRzU2lkZWJhci5jbGFzc0xpc3QucmVtb3ZlKFwianMtc2Nyb2xsLWRvd25cIik7XHJcbiAgICAgICAgICB0cmVhdG1lbnRzRHJvcGRvd25JdGVtLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgICAgICB0cmVhdG1lbnRzLmNsYXNzTGlzdC5yZW1vdmUoXCJvZmZzZXQtdG9wXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICB0cmVhdG1lbnRzU2lkZWJhci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRyZWF0bWVudHNEcm9wZG93blRyaWdnZXIuY2xhc3NMaXN0LnRvZ2dsZShcImpzLWFjdGl2ZVwiKVxyXG4gICAgICAgIHNsaWRlVG9nZ2xlKHRyZWF0bWVudHNEcm9wZG93bkl0ZW0sIDMwMClcclxuICAgICAgfSk7XHJcblxyXG4gICAgICB0cmVhdG1lbnRzRHJvcGRvd25UcmlnZ2VyLmZpcnN0Q2hpbGQudGV4dENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRyZWF0bWVudHMtc2lkZWJhciBsaS5qcy1jdXJyZW50IGFcIikudGV4dENvbnRlbnRcclxuICAgIH1cclxuXHJcbiAgICBcclxuXHJcbiAgICAvLyBPcGVuaW5nIG1vYmlsZSBtZW51IHdpdGggYnVyZ2VyXHJcbiAgICBidXJnZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgaGVhZGVyLmNsYXNzTGlzdC50b2dnbGUoXCJqcy1uYXYtb3BlblwiKTtcclxuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QudG9nZ2xlKFwianMtbG9ja1wiKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIE9wZW5pbmcgdGVjaG5vbG9neSBhY2NvcmRpb25zICEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISFcclxuICAgIC8vICQoJy50ZWNobm9sb2d5X193cmFwcGVyIC50ZWNobm9sb2d5LWNhcmQnKS5ub3QoJCgnLnRlY2hub2xvZ3lfX3dyYXBwZXIuc2Vjb25kYXJ5IC50ZWNobm9sb2d5LWNhcmQnKSkucmVtb3ZlQ2xhc3MoJ2pzLWFjdGl2ZScpXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRlY2hub2xvZ3lDYXJkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHRlY2hub2xvZ3lDYXJkW2ldLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgLy8gUmVtb3ZlIGNsYXNzIGZyb20gYWxsIGVsZW1lbnRzXHJcbiAgICAgICAgdGVjaG5vbG9neUNhcmQuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwianMtYWN0aXZlXCIpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBBZGQgY2xhc3MgdG8gdGhlIGVsZW1lbnQgdGhhdCB3YXMgY2xpY2tlZFxyXG4gICAgICAgIHRlY2hub2xvZ3lDYXJkW2ldLmNsYXNzTGlzdC5hZGQoXCJqcy1hY3RpdmVcIik7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEJsb2NrIHNsaWRlciAnVHJlYXRtZW50cydcclxuICAgIGNvbnN0IHNsaWRlclRyZWF0bWVudHMgPSBuZXcgU3dpcGVyKCcudHJlYXRtZW50cy1zbGlkZXInLCB7XHJcbiAgICAgIHNsaWRlc1BlclZpZXc6IDEsXHJcbiAgICAgIHNwYWNlQmV0d2VlbjogMzAsXHJcbiAgICAgIG5hdmlnYXRpb246IHtcclxuICAgICAgICBuZXh0RWw6IFwiLnRyZWF0bWVudHMtYnV0dG9uLW5leHRcIixcclxuICAgICAgICBwcmV2RWw6IFwiLnRyZWF0bWVudHMtYnV0dG9uLXByZXZcIixcclxuICAgICAgfSxcclxuICAgICAgcGFnaW5hdGlvbjoge1xyXG4gICAgICAgIGVsOiBcIi50cmVhdG1lbnRzLXBhZ2luYXRpb25cIixcclxuICAgICAgfSxcclxuICAgICAgYnJlYWtwb2ludHM6IHtcclxuICAgICAgICA3Njg6IHtcclxuICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDIsXHJcbiAgICAgICAgfSxcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIC8vIEJsb2NrIHNsaWRlciAnUHJhY3RpY2VzJ1xyXG4gIGNvbnN0IHNsaWRlclByYWN0aWNlcyA9IG5ldyBTd2lwZXIoJy5wcmFjdGljZXMtc2xpZGVyJywge1xyXG4gICAgc2xpZGVzUGVyVmlldzogMSxcclxuICAgIHNwYWNlQmV0d2VlbjogNDAsXHJcbiAgICBuYXZpZ2F0aW9uOiB7XHJcbiAgICAgIG5leHRFbDogXCIucHJhY3RpY2VzLWJ1dHRvbi1uZXh0XCIsXHJcbiAgICAgIHByZXZFbDogXCIucHJhY3RpY2VzLWJ1dHRvbi1wcmV2XCIsXHJcbiAgICB9LFxyXG4gICAgcGFnaW5hdGlvbjoge1xyXG4gICAgICBlbDogXCIucHJhY3RpY2VzLXBhZ2luYXRpb25cIixcclxuICAgIH0sXHJcbiAgICBicmVha3BvaW50czoge1xyXG4gICAgICA3Njg6IHtcclxuICAgICAgICBzbGlkZXNQZXJWaWV3OiAyLFxyXG4gICAgICB9LFxyXG4gICAgfVxyXG4gIH0pXHJcblxyXG4gIC8vIEJsb2NrIHNsaWRlciAnVGVzdGltb25pYWxzJ1xyXG4gIGNvbnN0IHNsaWRlclRlc3RpbW9uaWFscyA9IG5ldyBTd2lwZXIoJy50ZXN0aW1vbmlhbHMtc2xpZGVyJywge1xyXG4gICAgc2xpZGVzUGVyVmlldzogMSxcclxuICAgIHNwYWNlQmV0d2VlbjogMzAsXHJcbiAgICBsb29wOiB0cnVlLFxyXG4gICAgbmF2aWdhdGlvbjoge1xyXG4gICAgICBuZXh0RWw6IFwiLnRlc3RpbW9uaWFscy1idXR0b24tbmV4dFwiLFxyXG4gICAgICBwcmV2RWw6IFwiLnRlc3RpbW9uaWFscy1idXR0b24tcHJldlwiLFxyXG4gICAgfSxcclxuICAgIHBhZ2luYXRpb246IHtcclxuICAgICAgZWw6IFwiLnRlc3RpbW9uaWFscy1wYWdpbmF0aW9uXCIsXHJcbiAgICB9LFxyXG4gICAgYnJlYWtwb2ludHM6IHtcclxuICAgICAgNzY4OiB7XHJcbiAgICAgICAgc2xpZGVzUGVyVmlldzogMixcclxuICAgICAgfSxcclxuICAgICAgOTkyOiB7XHJcbiAgICAgICAgc2xpZGVzUGVyVmlldzogJ2F1dG8nLFxyXG4gICAgICAgIGNlbnRlcmVkU2xpZGVzOiB0cnVlLFxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSlcclxuXHJcbiAgLy8gQmxvY2sgc2xpZGVyICdDYXNlcydcclxuICBjb25zdCBzbGlkZXJDYXNlcyA9IG5ldyBTd2lwZXIoJy5jYXNlcy1zbGlkZXInLCB7XHJcbiAgICBzbGlkZXNQZXJWaWV3OiAxLFxyXG4gICAgc3BhY2VCZXR3ZWVuOiAzMCxcclxuICAgIG5hdmlnYXRpb246IHtcclxuICAgICAgbmV4dEVsOiBcIi5jYXNlcy1idXR0b24tbmV4dFwiLFxyXG4gICAgICBwcmV2RWw6IFwiLmNhc2VzLWJ1dHRvbi1wcmV2XCIsXHJcbiAgICB9LFxyXG4gICAgcGFnaW5hdGlvbjoge1xyXG4gICAgICBlbDogXCIuY2FzZXMtcGFnaW5hdGlvblwiLFxyXG4gICAgfSxcclxuICAgIGJyZWFrcG9pbnRzOiB7XHJcbiAgICAgIDc2ODoge1xyXG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDIsXHJcbiAgICAgIH0sXHJcbiAgICB9XHJcbiAgfSlcclxuXHJcbiAgLy8gQmxvY2sgc2xpZGVyICdTb2NpYWxzJ1xyXG4gIGNvbnN0IHNsaWRlclNvY2lhbHMgPSBuZXcgU3dpcGVyKCcuc29jaWFsc19fc2xpZGVyJywge1xyXG4gICAgc2xpZGVzUGVyVmlldzogMSxcclxuICAgIHNwYWNlQmV0d2VlbjogMzAsXHJcbiAgICBuYXZpZ2F0aW9uOiB7XHJcbiAgICAgIG5leHRFbDogXCIuc29jaWFscy1idXR0b24tbmV4dFwiLFxyXG4gICAgICBwcmV2RWw6IFwiLnNvY2lhbHMtYnV0dG9uLXByZXZcIixcclxuICAgIH0sXHJcbiAgICBwYWdpbmF0aW9uOiB7XHJcbiAgICAgIGVsOiBcIi5zb2NpYWxzLXBhZ2luYXRpb25cIixcclxuICAgIH0sXHJcbiAgICBicmVha3BvaW50czoge1xyXG4gICAgICA3Njg6IHtcclxuICAgICAgICBzbGlkZXNQZXJWaWV3OiAyLFxyXG4gICAgICB9LFxyXG4gICAgICA5OTI6IHtcclxuICAgICAgICBzbGlkZXNQZXJWaWV3OiA1LFxyXG4gICAgICB9LFxyXG4gICAgfVxyXG4gIH0pXHJcbn0iLCIvLyBBdXRvIHNpemUgdGV4dGFyZWEgPT09PT0+XHJcbnZhciB0ZXh0YXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhJyk7XHJcblxyXG5pZiAodGV4dGFyZWEpIHtcclxuICB0ZXh0YXJlYS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgYXV0b3NpemVUZXh0YXJlYSk7XHJcbn0gZWxzZSB7XHJcbiAgbnVsbFxyXG59XHJcblxyXG5mdW5jdGlvbiBhdXRvc2l6ZVRleHRhcmVhKCl7XHJcblx0dmFyIGVsID0gdGhpcztcclxuXHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcblx0XHRlbC5zdHlsZS5jc3NUZXh0ID0gJ2hlaWdodDphdXRvOyBwYWRkaW5nOjAnO1xyXG5cdFx0ZWwuc3R5bGUuY3NzVGV4dCA9ICctbW96LWJveC1zaXppbmc6Y29udGVudC1ib3gnO1xyXG5cdFx0ZWwuc3R5bGUuY3NzVGV4dCA9ICdoZWlnaHQ6JyArIGVsLnNjcm9sbEhlaWdodCArICdweCc7XHJcblx0fSwwKTtcclxufVxyXG5cclxuLy8gQ3VzdG9tIHNlbGVjdCA9PT09PT5cclxuJCgnc2VsZWN0JykuZWFjaChmdW5jdGlvbigpe1xyXG4gIHZhciAkdGhpcyA9ICQodGhpcyksIG51bWJlck9mT3B0aW9ucyA9ICQodGhpcykuY2hpbGRyZW4oJ29wdGlvbicpLmxlbmd0aDtcclxuXHJcbiAgJHRoaXMuYWRkQ2xhc3MoJ3NlbGVjdF9faGlkZGVuJyk7IFxyXG4gICR0aGlzLndyYXAoJzxkaXYgY2xhc3M9XCJzZWxlY3RcIj48L2Rpdj4nKTtcclxuICAkdGhpcy5hZnRlcignPGRpdiBjbGFzcz1cInNlbGVjdF9fc3R5bGVkXCI+PC9kaXY+Jyk7XHJcblxyXG4gIHZhciAkc3R5bGVkU2VsZWN0ID0gJHRoaXMubmV4dCgnZGl2LnNlbGVjdF9fc3R5bGVkJyk7XHJcbiAgJHN0eWxlZFNlbGVjdC5hcHBlbmQoJzxzcGFuPjwvc3Bhbj48aSBjbGFzcz1cImljb24tYXJyb3ctZHJvcGRvd25cIj48L2k+JylcclxuICAkc3R5bGVkU2VsZWN0LmZpbmQoJ3NwYW4nKS50ZXh0KCR0aGlzLmNoaWxkcmVuKCdvcHRpb24nKS5lcSgwKS50ZXh0KCkpO1xyXG5cclxuICB2YXIgJGxpc3QgPSAkKCc8dWwgLz4nLCB7XHJcbiAgICAnY2xhc3MnOiAnc2VsZWN0X19vcHRpb25zJ1xyXG4gIH0pLmluc2VydEFmdGVyKCRzdHlsZWRTZWxlY3QpO1xyXG5cclxuICBmb3IgKHZhciBpID0gMDsgaSA8IG51bWJlck9mT3B0aW9uczsgaSsrKSB7XHJcbiAgICAkKCc8bGkgLz4nLCB7XHJcbiAgICAgIHRleHQ6ICR0aGlzLmNoaWxkcmVuKCdvcHRpb24nKS5lcShpKS50ZXh0KCksXHJcbiAgICAgIHJlbDogJHRoaXMuY2hpbGRyZW4oJ29wdGlvbicpLmVxKGkpLnZhbCgpXHJcbiAgICB9KS5hcHBlbmRUbygkbGlzdCk7XHJcbiAgfVxyXG5cclxuICB2YXIgJGxpc3RJdGVtcyA9ICRsaXN0LmNoaWxkcmVuKCdsaScpO1xyXG5cclxuICAkc3R5bGVkU2VsZWN0LmNsaWNrKGZ1bmN0aW9uKGUpIHtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAkKCdkaXYuc2VsZWN0X19zdHlsZWQuYWN0aXZlJykubm90KHRoaXMpLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnYWN0aXZlJykubmV4dCgndWwuc2VsZWN0X19vcHRpb25zJykuc2xpZGVVcCgzMDApO1xyXG4gICAgfSk7XHJcbiAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKS5uZXh0KCd1bC5zZWxlY3RfX29wdGlvbnMnKS5zbGlkZVRvZ2dsZSgzMDApO1xyXG4gIH0pO1xyXG5cclxuICAkbGlzdEl0ZW1zLmNsaWNrKGZ1bmN0aW9uKGUpIHtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAkc3R5bGVkU2VsZWN0LmZpbmQoJ3NwYW4nKS50ZXh0KCQodGhpcykudGV4dCgpKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAkdGhpcy52YWwoJCh0aGlzKS5hdHRyKCdyZWwnKSk7XHJcbiAgICAkbGlzdC5zbGlkZVVwKDMwMCk7XHJcbiAgfSk7XHJcblxyXG4gICQoZG9jdW1lbnQpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgJHN0eWxlZFNlbGVjdC5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAkbGlzdC5zbGlkZVVwKDMwMCk7XHJcbiAgfSk7XHJcblxyXG59KTsiXX0=