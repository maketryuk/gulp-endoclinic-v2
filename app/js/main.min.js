"use strict";function _createForOfIteratorHelper(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var slideUp=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:500;e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(function(){e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")},t)},slideDown=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:500;e.style.removeProperty("display");var r=window.getComputedStyle(e).display;e.style.display=r="none"===r?"block":r;r=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=r+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(function(){e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")},t)},slideToggle=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:500;return("none"===window.getComputedStyle(e).display?slideDown:slideUp)(e,t)};window.onload=function(){$(".form").validate({errorClass:"invalid",errorPlacement:function(e,t){},rules:{user_name:{required:!0},user_email:{required:!0,email:!0},user_phone:{required:!0},user_datebirth:{required:!0},dentist_name:{required:!0},dentist_address:{required:!0},dentist_email:{required:!0,email:!0},dentist_phone:{required:!0},dentist_gdc:{required:!0}},submitHandler:function(){var e=$(".tooth__checkbox");if(0<e.length&&$(".tooth__checkbox:checked").length<1)return e.parents(".tooth__item").addClass("invalid"),e[0].focus(),!1;form.submit()}});var a=document.querySelector(".burger"),c=document.querySelector(".header"),d=document.querySelectorAll(".technology-card"),p=document.querySelector(".treatments"),u=document.querySelector(".treatments-sidebar"),f=document.querySelector(".treatments .dropdown__trigger"),m=document.querySelector(".treatments .dropdown__item"),v=document.querySelectorAll(".treatments-sidebar a");if(u){var e=function(e){e.preventDefault();e=this.getAttribute("href"),e=document.querySelector(e).offsetTop+200;scroll({top:e,behavior:"smooth"})},t=document.querySelectorAll(".treatments-content__item"),r=document.querySelector(".treatments-sidebar a").offsetHeight,n=document.querySelectorAll(".treatments-sidebar a");window.addEventListener("scroll",function(){t.forEach(function(e){e.offsetTop-150<=(document.documentElement.scrollTop||document.body.scrollTop)+r&&(n.forEach(function(e){e.parentElement.classList.remove("js-current"),e.parentElement.removeAttribute("class")}),e=e.getAttribute("id"),document.querySelector('a[href="#'.concat(e,'"]')).parentElement.classList.add("js-current"),f.firstChild.textContent=document.querySelector(".treatments-sidebar li.js-current a").textContent)})});var o,i=_createForOfIteratorHelper(linksScroll);try{for(i.s();!(o=i.n()).done;)o.value.addEventListener("click",e)}catch(e){i.e(e)}finally{i.f()}}window.addEventListener("scroll",function(){1<=$(window).scrollTop()?(c.classList.add("js-scroll-down"),c.classList.remove("js-scroll-top")):(c.classList.add("js-scroll-top"),c.classList.remove("js-scroll-down","js-nav-open","js-nav-close"))}),OverlayScrollbars(document.querySelectorAll(".tooth"),{});var s,l,y,h=document.querySelector(".files__table"),g=new DataTransfer;$("#file").on("change",function(e){for(var t=0;t<this.files.length;t++){var r=$("<div/>",{class:"files__wrapper"});$("<files-item/>",{class:"name",text:this.files.item(t).name});r.append('<div class="files-item"><i class="icon-file"></i><span class="files-item__name">'.concat(this.files.item(t).name,'</span><i class="files-item__remove icon-trash-can"></i><div><div>')),$(".files__table").append(r)}var n,o=_createForOfIteratorHelper(this.files);try{for(o.s();!(n=o.n()).done;){var i=n.value;g.items.add(i)}}catch(e){o.e(e)}finally{o.f()}this.files=g.files,0<=this.files.length?h.style.display="flex":h.style.display="none",$(".files-item__remove").click(function(){var e=$(this).parent().find(".files-item__name").text();$(this).parents(".files__wrapper").remove();for(var t=0;t<g.items.length;t++)e!==g.items[t].getAsFile().name||g.items.remove(t);document.getElementById("file").files=g.files})}),window.matchMedia("(min-width: 992px)").matches?(a.addEventListener("click",function(){c.classList.contains("js-nav-open")?(c.classList.remove("js-nav-open"),c.classList.add("js-nav-close")):(c.classList.add("js-nav-open"),c.classList.remove("js-nav-close"))}),$(".technology__wrapper").click(function(){$(".technology__wrapper").not($(this).closest(".technology__wrapper")).removeClass("js-active"),$(this).closest(".technology__wrapper").addClass("js-active"),$(this).hasClass("js-active")&&($(".technology-card__body").not($(this).find(".technology-card__body")).slideUp(300),$(this).find(".technology-card__body").slideDown(300))}),document.querySelector(".horizontal-scroll")&&(gsap.registerPlugin(ScrollTrigger),s=gsap.utils.toArray(".horizontal-scroll"),l=0,(y=function(){l=0,s.forEach(function(e){l+=e.offsetWidth})})(),ScrollTrigger.addEventListener("refreshInit",y),y=document.querySelector(".treatments"),gsap.to(s,{x:function(){return"-".concat(l-window.innerWidth)},ease:"none",scrollTrigger:{start:"-120px top",trigger:y,pin:!0,scrub:!0,end:function(){return"+=".concat(l)},invalidateOnRefresh:!0}}),s.forEach(function(e,t){ScrollTrigger.create({trigger:e,start:function(){return"top top-="+(e.offsetLeft-window.innerWidth/2)*(l/(l-window.innerWidth))},end:function(){return"+="+e.offsetWidth*(l/(l-window.innerWidth))},toggleClass:{targets:e,className:"active"}})}))):function(){for(var t,r=document.querySelectorAll(".show__trigger"),n=document.querySelectorAll(".show__item"),e=0;e<r.length;e++)!function(e){r[e].addEventListener("click",function(){r[e].classList.toggle("js-active"),r[e].classList.contains("js-active")?(r[e].textContent="See less",n.forEach(function(e){e.style.display="block"})):(r[e].textContent="See all",n.forEach(function(e){e.style.display="none"}))})}(e);if(u){var o,i=function(e){e.preventDefault();e=this.getAttribute("href"),e=document.querySelector(e).offsetTop-150;scroll({top:e,behavior:"smooth"})},s=_createForOfIteratorHelper(linksScroll);try{for(s.s();!(o=s.n()).done;)o.value.addEventListener("click",i)}catch(e){s.e(e)}finally{s.f()}}f&&m&&(t=m.offsetHeight,document.documentElement.style.setProperty("--treatments-dropdown-offset",t+"px"),window.addEventListener("scroll",function(){if(window.scrollY>t+64){if(u.classList.add("js-scroll-down"),p.classList.add("offset-top"),m.style.display="none",u.classList.contains("js-scroll-down"))for(var e=0;e<v.length;e++)!function(e){v[e].addEventListener("click",function(){v.forEach(function(e){e.parentElement.classList.remove("js-current"),e.parentElement.removeAttribute("class")}),v[e].parentElement.classList.add("js-current"),f.firstChild.textContent=v[e].textContent})}(e)}else u.classList.remove("js-scroll-down"),m.style.display="block",p.classList.remove("offset-top")}),u.addEventListener("click",function(){f.classList.toggle("js-active"),slideToggle(m,300)}),f.firstChild.textContent=document.querySelector(".treatments-sidebar li.js-current a").textContent),a.addEventListener("click",function(){c.classList.toggle("js-nav-open"),document.body.classList.toggle("js-lock")});for(var l=0;l<d.length;l++)!function(e){d[e].addEventListener("click",function(){d.forEach(function(e){e.classList.remove("js-active")}),d[e].classList.add("js-active")})}(l);new Swiper(".treatments-slider",{slidesPerView:1,spaceBetween:30,navigation:{nextEl:".treatments-button-next",prevEl:".treatments-button-prev"},pagination:{el:".treatments-pagination"},breakpoints:{768:{slidesPerView:2}}})}();new Swiper(".practices-slider",{slidesPerView:1,spaceBetween:40,navigation:{nextEl:".practices-button-next",prevEl:".practices-button-prev"},pagination:{el:".practices-pagination"},breakpoints:{768:{slidesPerView:2}}}),new Swiper(".testimonials-slider",{slidesPerView:1,spaceBetween:30,loop:!0,navigation:{nextEl:".testimonials-button-next",prevEl:".testimonials-button-prev"},pagination:{el:".testimonials-pagination"},breakpoints:{768:{slidesPerView:2},992:{slidesPerView:"auto",centeredSlides:!0}}}),new Swiper(".cases-slider",{slidesPerView:1,spaceBetween:30,navigation:{nextEl:".cases-button-next",prevEl:".cases-button-prev"},pagination:{el:".cases-pagination"},breakpoints:{768:{slidesPerView:2}}}),new Swiper(".socials__slider",{slidesPerView:1,spaceBetween:30,navigation:{nextEl:".socials-button-next",prevEl:".socials-button-prev"},pagination:{el:".socials-pagination"},breakpoints:{768:{slidesPerView:2},992:{slidesPerView:5}}})};var _step4,linksScroll=document.querySelectorAll(".scroll__link"),_iterator4=_createForOfIteratorHelper(linksScroll);try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var link=_step4.value;link.addEventListener("click",clickHandler)}}catch(e){_iterator4.e(e)}finally{_iterator4.f()}function clickHandler(e){e.preventDefault();e=this.getAttribute("href"),e=document.querySelector(e).offsetTop-150;scroll({top:e,behavior:"smooth"})}var textarea=document.querySelector("textarea");function autosizeTextarea(){var e=this;setTimeout(function(){e.style.cssText="height:auto; padding:0",e.style.cssText="-moz-box-sizing:content-box",e.style.cssText="height:"+e.scrollHeight+"px"},0)}textarea&&textarea.addEventListener("keydown",autosizeTextarea),$("select").each(function(){var t=$(this),e=$(this).children("option").length;t.addClass("select__hidden"),t.wrap('<div class="select"></div>'),t.after('<div class="select__styled"></div>');var r=t.next("div.select__styled");r.append('<span></span><i class="icon-arrow-dropdown"></i>'),r.find("span").text(t.children("option").eq(0).text());for(var n=$("<ul />",{class:"select__options"}).insertAfter(r),o=0;o<e;o++)$("<li />",{text:t.children("option").eq(o).text(),rel:t.children("option").eq(o).val()}).appendTo(n);var i=n.children("li");r.click(function(e){e.stopPropagation(),$("div.select__styled.active").not(this).each(function(){$(this).removeClass("active").next("ul.select__options").slideUp(300)}),$(this).toggleClass("active").next("ul.select__options").slideToggle(300)}),i.click(function(e){e.stopPropagation(),r.find("span").text($(this).text()).removeClass("active"),t.val($(this).attr("rel")),n.slideUp(300)}),$(document).click(function(){r.removeClass("active"),n.slideUp(300)})});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJVSS9jb250YWN0cy1mb3JtL2NvbnRhY3RzLWZvcm0uanMiXSwibmFtZXMiOlsic2xpZGVVcCIsInRhcmdldCIsImR1cmF0aW9uIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwic3R5bGUiLCJ0cmFuc2l0aW9uUHJvcGVydHkiLCJ0cmFuc2l0aW9uRHVyYXRpb24iLCJoZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJvdmVyZmxvdyIsInBhZGRpbmdUb3AiLCJwYWRkaW5nQm90dG9tIiwibWFyZ2luVG9wIiwibWFyZ2luQm90dG9tIiwid2luZG93Iiwic2V0VGltZW91dCIsImRpc3BsYXkiLCJyZW1vdmVQcm9wZXJ0eSIsInNsaWRlRG93biIsImdldENvbXB1dGVkU3R5bGUiLCJzbGlkZVRvZ2dsZSIsIm9ubG9hZCIsIiQiLCJ2YWxpZGF0ZSIsImVycm9yQ2xhc3MiLCJlcnJvclBsYWNlbWVudCIsImVycm9yIiwiZWxlbWVudCIsInJ1bGVzIiwidXNlcl9uYW1lIiwicmVxdWlyZWQiLCJ1c2VyX2VtYWlsIiwiZW1haWwiLCJ1c2VyX3Bob25lIiwidXNlcl9kYXRlYmlydGgiLCJkZW50aXN0X25hbWUiLCJkZW50aXN0X2FkZHJlc3MiLCJkZW50aXN0X2VtYWlsIiwiZGVudGlzdF9waG9uZSIsImRlbnRpc3RfZ2RjIiwic3VibWl0SGFuZGxlciIsImJveGVzIiwicGFyZW50cyIsImFkZENsYXNzIiwiZm9jdXMiLCJmb3JtIiwic3VibWl0IiwiYnVyZ2VyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaGVhZGVyIiwidGVjaG5vbG9neUNhcmQiLCJxdWVyeVNlbGVjdG9yQWxsIiwidHJlYXRtZW50cyIsInRyZWF0bWVudHNTaWRlYmFyIiwidHJlYXRtZW50c0Ryb3Bkb3duVHJpZ2dlciIsInRyZWF0bWVudHNEcm9wZG93bkl0ZW0iLCJ0cmVhdG1lbnRzU2lkZWJhckxpbmsiLCJjbGlja0hhbmRsZXIiLCJlIiwicHJldmVudERlZmF1bHQiLCJocmVmIiwidGhpcyIsImdldEF0dHJpYnV0ZSIsIm9mZnNldFRvcCIsInNjcm9sbCIsInRvcCIsImJlaGF2aW9yIiwic2Nyb2xsc3B5cyIsImxpbmtzSGVpZ2h0IiwiYWxsTGlua3MiLCJhZGRFdmVudExpc3RlbmVyIiwiZm9yRWFjaCIsImN1cnJlbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJzY3JvbGxUb3AiLCJib2R5IiwiY3VycmVudExpbmsiLCJwYXJlbnRFbGVtZW50IiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwicmVtb3ZlQXR0cmlidXRlIiwiY3VycmVudElEIiwiY29uY2F0IiwiYWRkIiwiZmlyc3RDaGlsZCIsInRleHRDb250ZW50IiwiX3N0ZXAiLCJfaXRlcmF0b3IiLCJfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciIsImxpbmtzU2Nyb2xsIiwicyIsIm4iLCJkb25lIiwidmFsdWUiLCJlcnIiLCJmIiwiT3ZlcmxheVNjcm9sbGJhcnMiLCJzZWN0aW9ucyIsIm1heFdpZHRoIiwidHJpZ2dlckl0ZW0iLCJmaWxlc1RhYmxlIiwiZHQiLCJEYXRhVHJhbnNmZXIiLCJvbiIsImkiLCJmaWxlcyIsImZpbGVCbG9jIiwiY2xhc3MiLCJ0ZXh0IiwiaXRlbSIsIm5hbWUiLCJhcHBlbmQiLCJfc3RlcDIiLCJfaXRlcmF0b3IyIiwiZmlsZSIsIml0ZW1zIiwiY2xpY2siLCJwYXJlbnQiLCJmaW5kIiwiZ2V0QXNGaWxlIiwiZ2V0RWxlbWVudEJ5SWQiLCJtYXRjaE1lZGlhIiwibWF0Y2hlcyIsImNvbnRhaW5zIiwibm90IiwiY2xvc2VzdCIsInJlbW92ZUNsYXNzIiwiaGFzQ2xhc3MiLCJnc2FwIiwicmVnaXN0ZXJQbHVnaW4iLCJTY3JvbGxUcmlnZ2VyIiwidXRpbHMiLCJ0b0FycmF5IiwiZ2V0TWF4V2lkdGgiLCJzZWN0aW9uIiwib2Zmc2V0V2lkdGgiLCJ0byIsIngiLCJpbm5lcldpZHRoIiwiZWFzZSIsInNjcm9sbFRyaWdnZXIiLCJzdGFydCIsInRyaWdnZXIiLCJwaW4iLCJzY3J1YiIsImVuZCIsImludmFsaWRhdGVPblJlZnJlc2giLCJzY3QiLCJjcmVhdGUiLCJvZmZzZXRMZWZ0IiwidG9nZ2xlQ2xhc3MiLCJ0YXJnZXRzIiwiY2xhc3NOYW1lIiwib2Zmc2V0SXRlbSIsInNob3dUcmlnZ2VyIiwic2hvd0l0ZW0iLCJ0b2dnbGUiLCJfbG9vcCIsIl9zdGVwMyIsIl9pdGVyYXRvcjMiLCJzZXRQcm9wZXJ0eSIsInNjcm9sbFkiLCJfbG9vcDIiLCJfbG9vcDMiLCJTd2lwZXIiLCJzbGlkZXNQZXJWaWV3Iiwic3BhY2VCZXR3ZWVuIiwibmF2aWdhdGlvbiIsIm5leHRFbCIsInByZXZFbCIsInBhZ2luYXRpb24iLCJlbCIsImJyZWFrcG9pbnRzIiwiNzY4IiwibG9vcCIsIjk5MiIsImNlbnRlcmVkU2xpZGVzIiwiX2l0ZXJhdG9yNCIsIl9zdGVwNCIsImxpbmsiLCJ0ZXh0YXJlYSIsImF1dG9zaXplVGV4dGFyZWEiLCJjc3NUZXh0Iiwic2Nyb2xsSGVpZ2h0IiwiZWFjaCIsIiR0aGlzIiwibnVtYmVyT2ZPcHRpb25zIiwiY2hpbGRyZW4iLCJ3cmFwIiwiYWZ0ZXIiLCIkc3R5bGVkU2VsZWN0IiwibmV4dCIsImVxIiwiJGxpc3QiLCJpbnNlcnRBZnRlciIsInJlbCIsInZhbCIsImFwcGVuZFRvIiwiJGxpc3RJdGVtcyIsInN0b3BQcm9wYWdhdGlvbiIsImF0dHIiXSwibWFwcGluZ3MiOiJtcENBS0EsSUFBSUEsUUFBVSxTQUFDQyxHQUF5QixJQUFqQkMsRUFBaUIsRUFBQUMsVUFBQUMsYUFBQUMsSUFBQUYsVUFBQSxHQUFBQSxVQUFBLEdBQVIsSUFFOUJGLEVBQU9LLE1BQU1DLG1CQUFxQiwwQkFDbENOLEVBQU9LLE1BQU1FLG1CQUFxQk4sRUFBVyxLQUM3Q0QsRUFBT0ssTUFBTUcsT0FBU1IsRUFBT1MsYUFBZSxLQUM1Q1QsRUFBT1MsYUFDUFQsRUFBT0ssTUFBTUssU0FBVyxTQUN4QlYsRUFBT0ssTUFBTUcsT0FBUyxFQUN0QlIsRUFBT0ssTUFBTU0sV0FBYSxFQUMxQlgsRUFBT0ssTUFB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U0FBUyxVQUFVSyxHQUFHLEdBQUdwRixRQU0vRCxJQUpBLElBQUlxRixFQUFRNUssRUFBRSxTQUFVLENBQ3RCc0YsTUFBUyxvQkFDUnVGLFlBQVlKLEdBRU50RixFQUFJLEVBQUdBLEVBQUlrRixFQUFpQmxGLElBQ25DbkYsRUFBRSxTQUFVLENBQ1Z1RixLQUFNNkUsRUFBTUUsU0FBUyxVQUFVSyxHQUFHeEYsR0FBR0ksT0FDckN1RixJQUFLVixFQUFNRSxTQUFTLFVBQVVLLEdBQUd4RixHQUFHNEYsUUFDbkNDLFNBQVNKLEdBR2QsSUFBSUssRUFBYUwsRUFBTU4sU0FBUyxNQUVoQ0csRUFBYzFFLE1BQU0sU0FBUzFELEdBQzNCQSxFQUFFNkksa0JBQ0ZsTCxFQUFFLDZCQUE2QnVHLElBQUkvRCxNQUFNMkgsS0FBSyxXQUM1Q25LLEVBQUV3QyxNQUFNaUUsWUFBWSxVQUFVaUUsS0FBSyxzQkFBc0JsTSxRQUFRLE9BRW5Fd0IsRUFBRXdDLE1BQU15RixZQUFZLFVBQVV5QyxLQUFLLHNCQUFzQjVLLFlBQVksT0FHdkVtTCxFQUFXbEYsTUFBTSxTQUFTMUQsR0FDeEJBLEVBQUU2SSxrQkFDRlQsRUFBY3hFLEtBQUssUUFBUVYsS0FBS3ZGLEVBQUV3QyxNQUFNK0MsUUFBUWtCLFlBQVksVUFDNUQyRCxFQUFNVyxJQUFJL0ssRUFBRXdDLE1BQU0ySSxLQUFLLFFBQ3ZCUCxFQUFNcE0sUUFBUSxPQUdoQndCLEVBQUUwQixVQUFVcUUsTUFBTSxXQUNoQjBFLEVBQWNoRSxZQUFZLFVBQzFCbUUsRUFBTXBNLFFBQVEiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTY3JvbGwgdG8gdGhlIHRvcCBiZWZvcmUgdGhlIHBhZ2UgbG9hZHNcclxuLy8gd2luZG93Lm9uYmVmb3JldW5sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4vLyAgIHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcclxuLy8gfVxyXG5cclxubGV0IHNsaWRlVXAgPSAodGFyZ2V0LCBkdXJhdGlvbj01MDApID0+IHtcclxuXHJcbiAgdGFyZ2V0LnN0eWxlLnRyYW5zaXRpb25Qcm9wZXJ0eSA9ICdoZWlnaHQsIG1hcmdpbiwgcGFkZGluZyc7XHJcbiAgdGFyZ2V0LnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IGR1cmF0aW9uICsgJ21zJztcclxuICB0YXJnZXQuc3R5bGUuaGVpZ2h0ID0gdGFyZ2V0Lm9mZnNldEhlaWdodCArICdweCc7XHJcbiAgdGFyZ2V0Lm9mZnNldEhlaWdodDtcclxuICB0YXJnZXQuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcclxuICB0YXJnZXQuc3R5bGUuaGVpZ2h0ID0gMDtcclxuICB0YXJnZXQuc3R5bGUucGFkZGluZ1RvcCA9IDA7XHJcbiAgdGFyZ2V0LnN0eWxlLnBhZGRpbmdCb3R0b20gPSAwO1xyXG4gIHRhcmdldC5zdHlsZS5tYXJnaW5Ub3AgPSAwO1xyXG4gIHRhcmdldC5zdHlsZS5tYXJnaW5Cb3R0b20gPSAwO1xyXG4gIHdpbmRvdy5zZXRUaW1lb3V0KCAoKSA9PiB7XHJcbiAgICAgICAgdGFyZ2V0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KCdoZWlnaHQnKTtcclxuICAgICAgICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ3BhZGRpbmctdG9wJyk7XHJcbiAgICAgICAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KCdwYWRkaW5nLWJvdHRvbScpO1xyXG4gICAgICAgIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnbWFyZ2luLXRvcCcpO1xyXG4gICAgICAgIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnbWFyZ2luLWJvdHRvbScpO1xyXG4gICAgICAgIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnb3ZlcmZsb3cnKTtcclxuICAgICAgICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ3RyYW5zaXRpb24tZHVyYXRpb24nKTtcclxuICAgICAgICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ3RyYW5zaXRpb24tcHJvcGVydHknKTtcclxuICAgICAgICAvL2FsZXJ0KFwiIVwiKTtcclxuICB9LCBkdXJhdGlvbik7XHJcbn1cclxuXHJcbmxldCBzbGlkZURvd24gPSAodGFyZ2V0LCBkdXJhdGlvbj01MDApID0+IHtcclxuXHJcbiAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KCdkaXNwbGF5Jyk7XHJcbiAgbGV0IGRpc3BsYXkgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXQpLmRpc3BsYXk7XHJcbiAgaWYgKGRpc3BsYXkgPT09ICdub25lJykgZGlzcGxheSA9ICdibG9jayc7XHJcbiAgdGFyZ2V0LnN0eWxlLmRpc3BsYXkgPSBkaXNwbGF5O1xyXG4gIGxldCBoZWlnaHQgPSB0YXJnZXQub2Zmc2V0SGVpZ2h0O1xyXG4gIHRhcmdldC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xyXG4gIHRhcmdldC5zdHlsZS5oZWlnaHQgPSAwO1xyXG4gIHRhcmdldC5zdHlsZS5wYWRkaW5nVG9wID0gMDtcclxuICB0YXJnZXQuc3R5bGUucGFkZGluZ0JvdHRvbSA9IDA7XHJcbiAgdGFyZ2V0LnN0eWxlLm1hcmdpblRvcCA9IDA7XHJcbiAgdGFyZ2V0LnN0eWxlLm1hcmdpbkJvdHRvbSA9IDA7XHJcbiAgdGFyZ2V0Lm9mZnNldEhlaWdodDtcclxuICB0YXJnZXQuc3R5bGUudHJhbnNpdGlvblByb3BlcnR5ID0gXCJoZWlnaHQsIG1hcmdpbiwgcGFkZGluZ1wiO1xyXG4gIHRhcmdldC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSBkdXJhdGlvbiArICdtcyc7XHJcbiAgdGFyZ2V0LnN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCc7XHJcbiAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KCdwYWRkaW5nLXRvcCcpO1xyXG4gIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgncGFkZGluZy1ib3R0b20nKTtcclxuICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ21hcmdpbi10b3AnKTtcclxuICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ21hcmdpbi1ib3R0b20nKTtcclxuICB3aW5kb3cuc2V0VGltZW91dCggKCkgPT4ge1xyXG4gICAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KCdoZWlnaHQnKTtcclxuICAgIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnb3ZlcmZsb3cnKTtcclxuICAgIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgndHJhbnNpdGlvbi1kdXJhdGlvbicpO1xyXG4gICAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KCd0cmFuc2l0aW9uLXByb3BlcnR5Jyk7XHJcbiAgfSwgZHVyYXRpb24pO1xyXG59XHJcblxyXG5sZXQgc2xpZGVUb2dnbGUgPSAodGFyZ2V0LCBkdXJhdGlvbiA9IDUwMCkgPT4ge1xyXG4gIGlmICh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXQpLmRpc3BsYXkgPT09ICdub25lJykge1xyXG4gICAgcmV0dXJuIHNsaWRlRG93bih0YXJnZXQsIGR1cmF0aW9uKTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIHNsaWRlVXAodGFyZ2V0LCBkdXJhdGlvbik7XHJcbiAgfVxyXG59XHJcblxyXG53aW5kb3cub25sb2FkID0gKCkgPT4ge1xyXG4gIC8vIFZhbGlkYXRlIGZvcm1cclxuICAkKFwiLmZvcm1cIikudmFsaWRhdGUoe1xyXG4gICAgZXJyb3JDbGFzczogJ2ludmFsaWQnLFxyXG4gICAgZXJyb3JQbGFjZW1lbnQ6IGZ1bmN0aW9uKGVycm9yLCBlbGVtZW50KSB7fSxcclxuICAgIHJ1bGVzOiB7XHJcbiAgICAgIHVzZXJfbmFtZToge1xyXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICB9LFxyXG4gICAgICB1c2VyX2VtYWlsOiB7XHJcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgZW1haWw6IHRydWVcclxuICAgICAgfSxcclxuICAgICAgdXNlcl9waG9uZToge1xyXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICB9LFxyXG4gICAgICB1c2VyX2RhdGViaXJ0aDoge1xyXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICB9LFxyXG4gICAgICBkZW50aXN0X25hbWU6IHtcclxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgfSxcclxuICAgICAgZGVudGlzdF9hZGRyZXNzOiB7XHJcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgIH0sXHJcbiAgICAgIGRlbnRpc3RfZW1haWw6IHtcclxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICBlbWFpbDogdHJ1ZSxcclxuICAgICAgfSxcclxuICAgICAgZGVudGlzdF9waG9uZToge1xyXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICB9LFxyXG4gICAgICBkZW50aXN0X2dkYzoge1xyXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIHN1Ym1pdEhhbmRsZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgYm94ZXMgPSAkKCcudG9vdGhfX2NoZWNrYm94Jyk7XHJcbiAgICAgIGlmKGJveGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBpZiggJCgnLnRvb3RoX19jaGVja2JveDpjaGVja2VkJykubGVuZ3RoIDwgMSkge1xyXG4gICAgICAgICAgYm94ZXMucGFyZW50cygnLnRvb3RoX19pdGVtJykuYWRkQ2xhc3MoJ2ludmFsaWQnKVxyXG4gICAgICAgICAgYm94ZXNbMF0uZm9jdXMoKTtcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgZm9ybS5zdWJtaXQoKTtcclxuICAgIH1cclxuICB9KTtcclxuICBcclxuICAvLyBWYXJpYWJlbHNcclxuICBsZXQgYnVyZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idXJnZXJcIik7XHJcbiAgbGV0IGhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyXCIpO1xyXG4gIGxldCB0ZWNobm9sb2d5Q2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50ZWNobm9sb2d5LWNhcmQnKTtcclxuICAvLyBsZXQgdGVjaG5vbG9neUNhcmRCb2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRlY2hub2xvZ3ktY2FyZF9fYm9keScpXHJcbiAgLy8gbGV0IHRhYkNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRhYnNfX2l0ZW1cIik7XHJcbiAgLy8gbGV0IHRhYkl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRhYnNfX3RyaWdnZXJcIik7XHJcbiAgLy8gbGV0IHRhYkRyb3Bkb3duVHJpZ2dlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudHJlYXRtZW50cyAuZHJvcGRvd25fX3RyaWdnZXIgLmRyb3Bkb3duX190cmlnZ2VyLXRleHRcIik7XHJcbiAgbGV0IHRyZWF0bWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudHJlYXRtZW50cycpO1xyXG4gIGxldCB0cmVhdG1lbnRzU2lkZWJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudHJlYXRtZW50cy1zaWRlYmFyXCIpO1xyXG4gIGxldCB0cmVhdG1lbnRzRHJvcGRvd25UcmlnZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50cmVhdG1lbnRzIC5kcm9wZG93bl9fdHJpZ2dlclwiKTtcclxuICBsZXQgdHJlYXRtZW50c0Ryb3Bkb3duSXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudHJlYXRtZW50cyAuZHJvcGRvd25fX2l0ZW1cIik7XHJcbiAgbGV0IHRyZWF0bWVudHNTaWRlYmFyTGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudHJlYXRtZW50cy1zaWRlYmFyIGFcIik7XHJcblxyXG4gIC8vIFNweXNjcm9sbFxyXG4gIGlmICh0cmVhdG1lbnRzU2lkZWJhcikge1xyXG4gICAgbGV0IHNjcm9sbHNweXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRyZWF0bWVudHMtY29udGVudF9faXRlbVwiKTtcclxuICAgIGxldCBsaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudHJlYXRtZW50cy1zaWRlYmFyIGFcIik7XHJcbiAgICBsZXQgbGlua3NIZWlnaHQgPSBsaW5rcy5vZmZzZXRIZWlnaHQ7XHJcbiAgICBsZXQgYWxsTGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRyZWF0bWVudHMtc2lkZWJhciBhXCIpO1xyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBzY3JvbGxzcHkoKSB7XHJcbiAgICAgIHNjcm9sbHNweXMuZm9yRWFjaChjdXJyZW50ID0+IHtcclxuICAgICAgICBsZXQgXyA9IGN1cnJlbnQ7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRFbGVtZW50T2Zmc2V0ID0gXy5vZmZzZXRUb3AgLSAxNTA7XHJcbiAgICAgICAgbGV0IHNjcm9sbFBvc2l0aW9uID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcDtcclxuICAgICAgICBpZiAoY3VycmVudEVsZW1lbnRPZmZzZXQgPD0gc2Nyb2xsUG9zaXRpb24gKyBsaW5rc0hlaWdodCkge1xyXG4gICAgICAgICAgYWxsTGlua3MuZm9yRWFjaChjdXJyZW50TGluayA9PiB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRMaW5rLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImpzLWN1cnJlbnRcIik7XHJcbiAgICAgICAgICAgIGN1cnJlbnRMaW5rLnBhcmVudEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiY2xhc3NcIik7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGNvbnN0IGN1cnJlbnRJRCA9IGN1cnJlbnQuZ2V0QXR0cmlidXRlKFwiaWRcIik7XHJcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBhW2hyZWY9XCIjJHtjdXJyZW50SUR9XCJdYCkucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwianMtY3VycmVudFwiKTtcclxuICAgICAgICAgIHRyZWF0bWVudHNEcm9wZG93blRyaWdnZXIuZmlyc3RDaGlsZC50ZXh0Q29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudHJlYXRtZW50cy1zaWRlYmFyIGxpLmpzLWN1cnJlbnQgYVwiKS50ZXh0Q29udGVudFxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgKCkgPT4ge1xyXG4gICAgICBzY3JvbGxzcHkoKVxyXG4gICAgfSk7XHJcblxyXG4gICAgZm9yIChjb25zdCBsaW5rIG9mIGxpbmtzU2Nyb2xsKSB7XHJcbiAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsaWNrSGFuZGxlcik7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBmdW5jdGlvbiBjbGlja0hhbmRsZXIoZSkge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGNvbnN0IGhyZWYgPSB0aGlzLmdldEF0dHJpYnV0ZShcImhyZWZcIik7XHJcbiAgICAgIGNvbnN0IG9mZnNldFRvcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaHJlZikub2Zmc2V0VG9wICsgMjAwO1xyXG4gIFxyXG4gICAgICBzY3JvbGwoe1xyXG4gICAgICAgIHRvcDogb2Zmc2V0VG9wLFxyXG4gICAgICAgIGJlaGF2aW9yOiBcInNtb290aFwiXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICBudWxsXHJcbiAgfVxyXG5cclxuICAvLyBNYW5pcHVsYXRpb25zIHdpdGggaGVhZGVyIGNsYXNzZXMgb24gc2Nyb2xsXHJcbiAgbGV0IHNjcm9sbENoYW5nZSA9IDE7XHJcblxyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsICgpID0+IHtcclxuICAgIGxldCBzY3JvbGwgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XHJcblxyXG4gICAgaWYgKHNjcm9sbCA+PSBzY3JvbGxDaGFuZ2UpIHtcclxuICAgICAgaGVhZGVyLmNsYXNzTGlzdC5hZGQoXCJqcy1zY3JvbGwtZG93blwiKTtcclxuICAgICAgaGVhZGVyLmNsYXNzTGlzdC5yZW1vdmUoXCJqcy1zY3JvbGwtdG9wXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaGVhZGVyLmNsYXNzTGlzdC5hZGQoXCJqcy1zY3JvbGwtdG9wXCIpO1xyXG4gICAgICBoZWFkZXIuY2xhc3NMaXN0LnJlbW92ZShcImpzLXNjcm9sbC1kb3duXCIsIFwianMtbmF2LW9wZW5cIiwgXCJqcy1uYXYtY2xvc2VcIik7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIC8vIC8vIFRhYnNcclxuICAvLyBmb3IgKGxldCBpID0gMDsgaSA8IHRhYkl0ZW0ubGVuZ3RoOyBpKyspIHtcclxuICAvLyAgIHRhYkl0ZW1baV0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHJcbiAgLy8gICAgIHRhYkNvbnRlbnQuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gIC8vICAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZShcImpzLWFjdGl2ZVwiKTtcclxuICAvLyAgICAgfSk7XHJcblxyXG4gIC8vICAgICB0YWJJdGVtLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAvLyAgICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJqcy1hY3RpdmVcIik7XHJcbiAgLy8gICAgIH0pO1xyXG5cclxuICAvLyAgICAgdGFiQ29udGVudFtpXS5jbGFzc0xpc3QuYWRkKFwianMtYWN0aXZlXCIpO1xyXG4gIC8vICAgICB0YWJJdGVtW2ldLmNsYXNzTGlzdC5hZGQoXCJqcy1hY3RpdmVcIik7XHJcblxyXG4gIC8vICAgICB0YWJEcm9wZG93blRyaWdnZXIudGV4dENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhYnNfX3RyaWdnZXIuanMtYWN0aXZlXCIpLnRleHRDb250ZW50XHJcbiAgLy8gICB9KTtcclxuICAvLyB9IFxyXG4gIFxyXG4gIC8vIGlmICh0YWJEcm9wZG93blRyaWdnZXIpIHtcclxuICAvLyAgIHRhYkRyb3Bkb3duVHJpZ2dlci50ZXh0Q29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFic19fdHJpZ2dlci5qcy1hY3RpdmVcIikudGV4dENvbnRlbnRcclxuICAvLyB9XHJcblxyXG4gIC8vIEN1c3RvbSBzY3JvbGxiYXIgaW4gdG9vdGggdGFibGVcclxuICBPdmVybGF5U2Nyb2xsYmFycyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRvb3RoXCIpLCB7fSk7XHJcblxyXG4gIC8vIEZpbGVzIGlucHV0XHJcbiAgLy8gbGV0IGZpbGVzVHJpZ2dlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWxlJyk7XHJcbiAgbGV0IGZpbGVzVGFibGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmlsZXNfX3RhYmxlJyk7XHJcbiAgXHJcbiAgLy8gbGV0IHVwZGF0ZUZpbGVzTGlzdCA9ICgpID0+IHtcclxuICAvLyAgIGxldCBjaGlsZHJlbiA9IFwiXCI7XHJcbiAgLy8gICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbGVzVHJpZ2dlci5maWxlcy5sZW5ndGg7ICsraSkge1xyXG4gIC8vICAgICBjaGlsZHJlbiArPSAgJzxkaXYgY2xhc3M9XCJmaWxlc19fd3JhcHBlclwiPicgKyAnPGRpdiBjbGFzcz1cImZpbGVzLWl0ZW1cIj4nICsgJzxpIGNsYXNzPVwiaWNvbi1maWxlXCI+PC9pPicgKyAnPHNwYW4gY2xhc3M9XCJmaWxlcy1pdGVtX19uYW1lXCI+JyArIGZpbGVzVHJpZ2dlci5maWxlcy5pdGVtKGkpLm5hbWUgKyAnPC9zcGFuLz4nICsgJzxpIGNsYXNzPVwiZmlsZXMtaXRlbV9fcmVtb3ZlIGljb24tdHJhc2gtY2FuXCIgb25jbGljaz1cInJldHVybiB0aGlzLnBhcmVudE5vZGUucGFyZW50Tm9kZS5yZW1vdmUoKTtcIj48L2k+JyArICc8L2Rpdj4nICsgJzwvZGl2PidcclxuICAvLyAgIH1cclxuICAvLyAgIGZpbGVzVGFibGUuaW5uZXJIVE1MID0gY2hpbGRyZW47XHJcbiAgLy8gICBpZiAoY2hpbGRyZW4ubGVuZ3RoID49IDApIHtcclxuICAvLyAgICAgZmlsZXNUYWJsZS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnXHJcbiAgLy8gICB9IGVsc2Uge1xyXG4gIC8vICAgICBmaWxlc1RhYmxlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcclxuICAvLyAgIH1cclxuICAvLyB9XHJcblxyXG4gIC8vIGlmIChmaWxlc1RyaWdnZXIpIHtcclxuICAvLyAgIGZpbGVzVHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsICgpID0+IHtcclxuICAvLyAgICAgdXBkYXRlRmlsZXNMaXN0KClcclxuICAvLyAgIH0pXHJcbiAgLy8gfVxyXG5cclxuICBjb25zdCBkdCA9IG5ldyBEYXRhVHJhbnNmZXIoKTtcclxuXHJcbiAgJChcIiNmaWxlXCIpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbihlKXtcclxuICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmZpbGVzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgbGV0IGZpbGVCbG9jID0gJCgnPGRpdi8+Jywge2NsYXNzOiAnZmlsZXNfX3dyYXBwZXInfSksXHJcbiAgICAgICAgZmlsZU5hbWUgPSAkKCc8ZmlsZXMtaXRlbS8+Jywge2NsYXNzOiAnbmFtZScsIHRleHQ6IHRoaXMuZmlsZXMuaXRlbShpKS5uYW1lfSk7XHJcbiAgICAgIGZpbGVCbG9jLmFwcGVuZChgPGRpdiBjbGFzcz1cImZpbGVzLWl0ZW1cIj48aSBjbGFzcz1cImljb24tZmlsZVwiPjwvaT48c3BhbiBjbGFzcz1cImZpbGVzLWl0ZW1fX25hbWVcIj4ke3RoaXMuZmlsZXMuaXRlbShpKS5uYW1lfTwvc3Bhbj48aSBjbGFzcz1cImZpbGVzLWl0ZW1fX3JlbW92ZSBpY29uLXRyYXNoLWNhblwiPjwvaT48ZGl2PjxkaXY+YClcclxuICAgICAgJChcIi5maWxlc19fdGFibGVcIikuYXBwZW5kKGZpbGVCbG9jKTtcclxuICAgIH07XHJcbiAgICBmb3IgKGxldCBmaWxlIG9mIHRoaXMuZmlsZXMpIHtcclxuICAgICAgZHQuaXRlbXMuYWRkKGZpbGUpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5maWxlcyA9IGR0LmZpbGVzO1xyXG5cclxuICAgIGlmICh0aGlzLmZpbGVzLmxlbmd0aCA+PSAwKSB7XHJcbiAgICAgIGZpbGVzVGFibGUuc3R5bGUuZGlzcGxheSA9ICdmbGV4J1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZmlsZXNUYWJsZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcbiAgICB9XHJcbiAgXHJcbiAgICAkKCcuZmlsZXMtaXRlbV9fcmVtb3ZlJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgbGV0IG5hbWUgPSAkKHRoaXMpLnBhcmVudCgpLmZpbmQoJy5maWxlcy1pdGVtX19uYW1lJykudGV4dCgpO1xyXG4gICAgICAkKHRoaXMpLnBhcmVudHMoJy5maWxlc19fd3JhcHBlcicpLnJlbW92ZSgpO1xyXG4gICAgICBmb3IobGV0IGkgPSAwOyBpIDwgZHQuaXRlbXMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgIGlmKG5hbWUgPT09IGR0Lml0ZW1zW2ldLmdldEFzRmlsZSgpLm5hbWUpe1xyXG4gICAgICAgICAgZHQuaXRlbXMucmVtb3ZlKGkpO1xyXG4gICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWxlJykuZmlsZXMgPSBkdC5maWxlcztcclxuICAgIH0pO1xyXG4gIH0pO1xyXG4gIFxyXG4gIC8vIE1lZGlhIDk5MiA9PT09PT5cclxuICBpZiAod2luZG93Lm1hdGNoTWVkaWEoXCIobWluLXdpZHRoOiA5OTJweClcIikubWF0Y2hlcykge1xyXG4gICAgLy8gT3BlbmluZyBkZXNrdG9wIG1lbnUgd2l0aCBidXJnZXJcclxuICAgIGJ1cmdlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICBpZiAoaGVhZGVyLmNsYXNzTGlzdC5jb250YWlucyhcImpzLW5hdi1vcGVuXCIpKSB7XHJcbiAgICAgICAgaGVhZGVyLmNsYXNzTGlzdC5yZW1vdmUoXCJqcy1uYXYtb3BlblwiKTtcclxuICAgICAgICBoZWFkZXIuY2xhc3NMaXN0LmFkZChcImpzLW5hdi1jbG9zZVwiKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBoZWFkZXIuY2xhc3NMaXN0LmFkZChcImpzLW5hdi1vcGVuXCIpO1xyXG4gICAgICAgIGhlYWRlci5jbGFzc0xpc3QucmVtb3ZlKFwianMtbmF2LWNsb3NlXCIpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBPcGVuaW5nIHRlY2hub2xvZ3kgYWNjb3JkaW9uXHJcbiAgICAkKCcudGVjaG5vbG9neV9fd3JhcHBlcicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgJChcIi50ZWNobm9sb2d5X193cmFwcGVyXCIpLm5vdCgkKHRoaXMpLmNsb3Nlc3QoXCIudGVjaG5vbG9neV9fd3JhcHBlclwiKSkucmVtb3ZlQ2xhc3MoXCJqcy1hY3RpdmVcIik7XHJcbiAgICAgICQodGhpcykuY2xvc2VzdChcIi50ZWNobm9sb2d5X193cmFwcGVyXCIpLmFkZENsYXNzKFwianMtYWN0aXZlXCIpO1xyXG4gICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnanMtYWN0aXZlJykpIHtcclxuICAgICAgICAkKCcudGVjaG5vbG9neS1jYXJkX19ib2R5Jykubm90KCQodGhpcykuZmluZCgnLnRlY2hub2xvZ3ktY2FyZF9fYm9keScpKS5zbGlkZVVwKDMwMCk7XHJcbiAgICAgICAgJCh0aGlzKS5maW5kKCcudGVjaG5vbG9neS1jYXJkX19ib2R5Jykuc2xpZGVEb3duKDMwMCk7XHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgLy8gZm9yIChsZXQgaSA9IDA7IGkgPCB0ZWNobm9sb2d5Q2FyZC5sZW5ndGg7IGkrKykge1xyXG4gICAgLy8gICB0ZWNobm9sb2d5Q2FyZFtpXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgLy8gICAgIHRlY2hub2xvZ3lDYXJkLmZvckVhY2goKGVsZW1lbnQpID0+IHtcclxuICAgIC8vICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImpzLWFjdGl2ZVwiKTtcclxuICAgIC8vICAgICB9KTtcclxuXHJcbiAgICAvLyAgICAgLy8gdGVjaG5vbG9neUNhcmRCb2R5LmZvckVhY2goKGVsZW1lbnQpID0+IHtcclxuICAgIC8vICAgICAvLyAgIHNsaWRlVXAoZWxlbWVudClcclxuICAgIC8vICAgICAvLyB9KTtcclxuXHJcbiAgICAvLyAgICAgdGVjaG5vbG9neUNhcmRbaV0uY2xhc3NMaXN0LmFkZCgnanMtYWN0aXZlJyk7XHJcblxyXG4gICAgLy8gICAgIC8vIEFkZCBjbGFzcyB0byB0aGUgZWxlbWVudCB0aGF0IHdhcyBjbGlja2VkXHJcbiAgICAvLyAgICAgc2xpZGVEb3duKHRlY2hub2xvZ3lDYXJkQm9keVtpXSwgMzAwKVxyXG4gICAgLy8gICB9KTtcclxuICAgIC8vIH1cclxuICAgIFxyXG5cclxuICAgIGxldCBob3Jpem9udGFsU2Nyb2xsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhvcml6b250YWwtc2Nyb2xsJylcclxuXHJcbiAgICBpZiAoaG9yaXpvbnRhbFNjcm9sbCkge1xyXG4gICAgICAvLyBIb3Jpem9udGFsIHNjcm9sbCBpbiBUcmVhdG1lbnRzID09PT09PlxyXG4gICAgICBnc2FwLnJlZ2lzdGVyUGx1Z2luKFNjcm9sbFRyaWdnZXIpO1xyXG4gIFxyXG4gICAgICBjb25zdCBzZWN0aW9ucyA9IGdzYXAudXRpbHMudG9BcnJheShcIi5ob3Jpem9udGFsLXNjcm9sbFwiKTtcclxuICAgICAgbGV0IG1heFdpZHRoID0gMDtcclxuICBcclxuICAgICAgY29uc3QgZ2V0TWF4V2lkdGggPSAoKSA9PiB7XHJcbiAgICAgICAgbWF4V2lkdGggPSAwO1xyXG4gICAgICAgIHNlY3Rpb25zLmZvckVhY2goKHNlY3Rpb24pID0+IHtcclxuICAgICAgICAgIG1heFdpZHRoICs9IHNlY3Rpb24ub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcbiAgICAgIGdldE1heFdpZHRoKCk7XHJcbiAgICAgIFNjcm9sbFRyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcihcInJlZnJlc2hJbml0XCIsIGdldE1heFdpZHRoKTtcclxuICBcclxuICAgICAgbGV0IHRyaWdnZXJJdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRyZWF0bWVudHMnKTtcclxuICBcclxuICAgICAgZ3NhcC50byhzZWN0aW9ucywge1xyXG4gICAgICAgIHg6ICgpID0+IGAtJHttYXhXaWR0aCAtIHdpbmRvdy5pbm5lcldpZHRofWAsXHJcbiAgICAgICAgZWFzZTogXCJub25lXCIsXHJcbiAgICAgICAgc2Nyb2xsVHJpZ2dlcjoge1xyXG4gICAgICAgICAgc3RhcnQ6IFwiLTEyMHB4IHRvcFwiLFxyXG4gICAgICAgICAgdHJpZ2dlcjogdHJpZ2dlckl0ZW0sXHJcbiAgICAgICAgICBwaW46IHRydWUsXHJcbiAgICAgICAgICBzY3J1YjogdHJ1ZSxcclxuICAgICAgICAgIGVuZDogKCkgPT4gYCs9JHttYXhXaWR0aH1gLFxyXG4gICAgICAgICAgaW52YWxpZGF0ZU9uUmVmcmVzaDogdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgXHJcbiAgICAgIHNlY3Rpb25zLmZvckVhY2goKHNjdCwgaSkgPT4ge1xyXG4gICAgICAgIFNjcm9sbFRyaWdnZXIuY3JlYXRlKHtcclxuICAgICAgICAgIHRyaWdnZXI6IHNjdCxcclxuICAgICAgICAgIHN0YXJ0OiAoKSA9PiAndG9wIHRvcC09JyArIChzY3Qub2Zmc2V0TGVmdCAtIHdpbmRvdy5pbm5lcldpZHRoLzIpICogKG1heFdpZHRoIC8gKG1heFdpZHRoIC0gd2luZG93LmlubmVyV2lkdGgpKSxcclxuICAgICAgICAgIGVuZDogKCkgPT4gJys9JyArIHNjdC5vZmZzZXRXaWR0aCAqIChtYXhXaWR0aCAvIChtYXhXaWR0aCAtIHdpbmRvdy5pbm5lcldpZHRoKSksXHJcbiAgICAgICAgICB0b2dnbGVDbGFzczoge3RhcmdldHM6IHNjdCwgY2xhc3NOYW1lOiBcImFjdGl2ZVwifVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBUb2dnbGUgdmlzaWJsZSBlbGVtZW50c1xyXG4gICAgbGV0IHNob3dUcmlnZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zaG93X190cmlnZ2VyXCIpO1xyXG4gICAgbGV0IHNob3dJdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zaG93X19pdGVtXCIpO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hvd1RyaWdnZXIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgc2hvd1RyaWdnZXJbaV0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICBzaG93VHJpZ2dlcltpXS5jbGFzc0xpc3QudG9nZ2xlKCdqcy1hY3RpdmUnKVxyXG5cclxuICAgICAgICBpZiAoc2hvd1RyaWdnZXJbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKFwianMtYWN0aXZlXCIpKSB7XHJcbiAgICAgICAgICBzaG93VHJpZ2dlcltpXS50ZXh0Q29udGVudCA9ICdTZWUgbGVzcydcclxuICAgICAgICAgIHNob3dJdGVtLmZvckVhY2goKGVsZW1lbnQpID0+IHtcclxuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2hvd1RyaWdnZXJbaV0udGV4dENvbnRlbnQgPSAnU2VlIGFsbCdcclxuICAgICAgICAgIHNob3dJdGVtLmZvckVhY2goKGVsZW1lbnQpID0+IHtcclxuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHJlYXRtZW50c1NpZGViYXIpIHtcclxuICAgICAgZm9yIChjb25zdCBsaW5rIG9mIGxpbmtzU2Nyb2xsKSB7XHJcbiAgICAgICAgbGluay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xpY2tIYW5kbGVyKTtcclxuICAgICAgfVxyXG4gICAgXHJcbiAgICAgIGZ1bmN0aW9uIGNsaWNrSGFuZGxlcihlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGNvbnN0IGhyZWYgPSB0aGlzLmdldEF0dHJpYnV0ZShcImhyZWZcIik7XHJcbiAgICAgICAgY29uc3Qgb2Zmc2V0VG9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihocmVmKS5vZmZzZXRUb3AgLSAxNTA7XHJcbiAgICBcclxuICAgICAgICBzY3JvbGwoe1xyXG4gICAgICAgICAgdG9wOiBvZmZzZXRUb3AsXHJcbiAgICAgICAgICBiZWhhdmlvcjogXCJzbW9vdGhcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVHJlYXRtZW50cyBwYWdlIHRhYnMgbmF2aWdhdGlvblxyXG4gICAgLy8gbGV0IHRyZWF0bWVudHNEcm9wZG93biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudHJlYXRtZW50cyAuZHJvcGRvd25cIik7XHJcbiAgICAvLyBsZXQgdHJlYXRtZW50c0Ryb3Bkb3duTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudHJlYXRtZW50cyAuZHJvcGRvd25fX2xpc3RcIik7XHJcblxyXG4gICAgLy8gaWYgKHRyZWF0bWVudHNEcm9wZG93biAmJiB0cmVhdG1lbnRzRHJvcGRvd25MaXN0KSB7XHJcbiAgICAvLyAgIGxldCBvZmZzZXRJdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRyb3Bkb3duX19saXN0Jykub2Zmc2V0SGVpZ2h0XHJcbiAgICAvLyAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tdHJlYXRtZW50cy1kcm9wZG93bi1vZmZzZXRcIiwgb2Zmc2V0SXRlbSArIFwicHhcIilcclxuICAgIFxyXG4gICAgLy8gICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCAoKSA9PiB7XHJcbiAgICAgICAgXHJcbiAgICAvLyAgICAgaWYgKHdpbmRvdy5zY3JvbGxZID4gb2Zmc2V0SXRlbSArIDY0ICkge1xyXG4gICAgLy8gICAgICAgdHJlYXRtZW50c0Ryb3Bkb3duLmNsYXNzTGlzdC5hZGQoXCJqcy1zY3JvbGwtZG93blwiKTtcclxuICAgIC8vICAgICAgIHRyZWF0bWVudHNEcm9wZG93bkxpc3Quc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG4gICAgLy8gICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRyZWF0bWVudHMnKS5jbGFzc0xpc3QuYWRkKFwib2Zmc2V0LXRvcFwiKVxyXG4gICAgLy8gICAgIH0gZWxzZSB7XHJcbiAgICAvLyAgICAgICB0cmVhdG1lbnRzRHJvcGRvd24uY2xhc3NMaXN0LnJlbW92ZShcImpzLXNjcm9sbC1kb3duXCIpO1xyXG4gICAgLy8gICAgICAgdHJlYXRtZW50c0Ryb3Bkb3duTGlzdC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJ1xyXG4gICAgLy8gICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRyZWF0bWVudHMnKS5jbGFzc0xpc3QucmVtb3ZlKFwib2Zmc2V0LXRvcFwiKVxyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgfSk7XHJcblxyXG4gICAgLy8gICB0cmVhdG1lbnRzRHJvcGRvd24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAvLyAgICAgaWYgKHRyZWF0bWVudHNEcm9wZG93bi5jbGFzc0xpc3QuY29udGFpbnMoXCJqcy1zY3JvbGwtZG93blwiKSkge1xyXG4gICAgLy8gICAgICAgc2xpZGVUb2dnbGUodHJlYXRtZW50c0Ryb3Bkb3duTGlzdCwgMzAwKTtcclxuICAgIC8vICAgICB9IGVsc2Uge1xyXG4gICAgLy8gICAgICAgbnVsbFxyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgfSk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgaWYgKHRyZWF0bWVudHNEcm9wZG93blRyaWdnZXIgJiYgdHJlYXRtZW50c0Ryb3Bkb3duSXRlbSkge1xyXG4gICAgICBsZXQgb2Zmc2V0SXRlbSA9IHRyZWF0bWVudHNEcm9wZG93bkl0ZW0ub2Zmc2V0SGVpZ2h0XHJcbiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tdHJlYXRtZW50cy1kcm9wZG93bi1vZmZzZXRcIiwgb2Zmc2V0SXRlbSArIFwicHhcIik7XHJcbiAgICAgIFxyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHdpbmRvdy5zY3JvbGxZID4gb2Zmc2V0SXRlbSArIDY0ICkge1xyXG4gICAgICAgICAgdHJlYXRtZW50c1NpZGViYXIuY2xhc3NMaXN0LmFkZChcImpzLXNjcm9sbC1kb3duXCIpO1xyXG4gICAgICAgICAgdHJlYXRtZW50cy5jbGFzc0xpc3QuYWRkKFwib2Zmc2V0LXRvcFwiKTtcclxuICAgICAgICAgIHRyZWF0bWVudHNEcm9wZG93bkl0ZW0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG5cclxuICAgICAgICAgIGlmICh0cmVhdG1lbnRzU2lkZWJhci5jbGFzc0xpc3QuY29udGFpbnMoXCJqcy1zY3JvbGwtZG93blwiKSkge1xyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmVhdG1lbnRzU2lkZWJhckxpbmsubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICB0cmVhdG1lbnRzU2lkZWJhckxpbmtbaV0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRyZWF0bWVudHNTaWRlYmFyTGluay5mb3JFYWNoKChlbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwianMtY3VycmVudFwiKVxyXG4gICAgICAgICAgICAgICAgICBlbGVtZW50LnBhcmVudEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiY2xhc3NcIilcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRyZWF0bWVudHNTaWRlYmFyTGlua1tpXS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJqcy1jdXJyZW50XCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRyZWF0bWVudHNEcm9wZG93blRyaWdnZXIuZmlyc3RDaGlsZC50ZXh0Q29udGVudCA9IHRyZWF0bWVudHNTaWRlYmFyTGlua1tpXS50ZXh0Q29udGVudFxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0cmVhdG1lbnRzU2lkZWJhci5jbGFzc0xpc3QucmVtb3ZlKFwianMtc2Nyb2xsLWRvd25cIik7XHJcbiAgICAgICAgICB0cmVhdG1lbnRzRHJvcGRvd25JdGVtLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgICAgICB0cmVhdG1lbnRzLmNsYXNzTGlzdC5yZW1vdmUoXCJvZmZzZXQtdG9wXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICB0cmVhdG1lbnRzU2lkZWJhci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRyZWF0bWVudHNEcm9wZG93blRyaWdnZXIuY2xhc3NMaXN0LnRvZ2dsZShcImpzLWFjdGl2ZVwiKVxyXG4gICAgICAgIHNsaWRlVG9nZ2xlKHRyZWF0bWVudHNEcm9wZG93bkl0ZW0sIDMwMClcclxuICAgICAgfSk7XHJcblxyXG4gICAgICB0cmVhdG1lbnRzRHJvcGRvd25UcmlnZ2VyLmZpcnN0Q2hpbGQudGV4dENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRyZWF0bWVudHMtc2lkZWJhciBsaS5qcy1jdXJyZW50IGFcIikudGV4dENvbnRlbnRcclxuICAgIH1cclxuXHJcbiAgICBcclxuXHJcbiAgICAvLyBPcGVuaW5nIG1vYmlsZSBtZW51IHdpdGggYnVyZ2VyXHJcbiAgICBidXJnZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgaGVhZGVyLmNsYXNzTGlzdC50b2dnbGUoXCJqcy1uYXYtb3BlblwiKTtcclxuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QudG9nZ2xlKFwianMtbG9ja1wiKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIE9wZW5pbmcgdGVjaG5vbG9neSBhY2NvcmRpb25zICEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISFcclxuICAgIC8vICQoJy50ZWNobm9sb2d5X193cmFwcGVyIC50ZWNobm9sb2d5LWNhcmQnKS5ub3QoJCgnLnRlY2hub2xvZ3lfX3dyYXBwZXIuc2Vjb25kYXJ5IC50ZWNobm9sb2d5LWNhcmQnKSkucmVtb3ZlQ2xhc3MoJ2pzLWFjdGl2ZScpXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRlY2hub2xvZ3lDYXJkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHRlY2hub2xvZ3lDYXJkW2ldLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgLy8gUmVtb3ZlIGNsYXNzIGZyb20gYWxsIGVsZW1lbnRzXHJcbiAgICAgICAgdGVjaG5vbG9neUNhcmQuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwianMtYWN0aXZlXCIpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBBZGQgY2xhc3MgdG8gdGhlIGVsZW1lbnQgdGhhdCB3YXMgY2xpY2tlZFxyXG4gICAgICAgIHRlY2hub2xvZ3lDYXJkW2ldLmNsYXNzTGlzdC5hZGQoXCJqcy1hY3RpdmVcIik7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEJsb2NrIHNsaWRlciAnVHJlYXRtZW50cydcclxuICAgIGNvbnN0IHNsaWRlclRyZWF0bWVudHMgPSBuZXcgU3dpcGVyKCcudHJlYXRtZW50cy1zbGlkZXInLCB7XHJcbiAgICAgIHNsaWRlc1BlclZpZXc6IDEsXHJcbiAgICAgIHNwYWNlQmV0d2VlbjogMzAsXHJcbiAgICAgIG5hdmlnYXRpb246IHtcclxuICAgICAgICBuZXh0RWw6IFwiLnRyZWF0bWVudHMtYnV0dG9uLW5leHRcIixcclxuICAgICAgICBwcmV2RWw6IFwiLnRyZWF0bWVudHMtYnV0dG9uLXByZXZcIixcclxuICAgICAgfSxcclxuICAgICAgcGFnaW5hdGlvbjoge1xyXG4gICAgICAgIGVsOiBcIi50cmVhdG1lbnRzLXBhZ2luYXRpb25cIixcclxuICAgICAgfSxcclxuICAgICAgYnJlYWtwb2ludHM6IHtcclxuICAgICAgICA3Njg6IHtcclxuICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDIsXHJcbiAgICAgICAgfSxcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIC8vIEJsb2NrIHNsaWRlciAnUHJhY3RpY2VzJ1xyXG4gIGNvbnN0IHNsaWRlclByYWN0aWNlcyA9IG5ldyBTd2lwZXIoJy5wcmFjdGljZXMtc2xpZGVyJywge1xyXG4gICAgc2xpZGVzUGVyVmlldzogMSxcclxuICAgIHNwYWNlQmV0d2VlbjogNDAsXHJcbiAgICBuYXZpZ2F0aW9uOiB7XHJcbiAgICAgIG5leHRFbDogXCIucHJhY3RpY2VzLWJ1dHRvbi1uZXh0XCIsXHJcbiAgICAgIHByZXZFbDogXCIucHJhY3RpY2VzLWJ1dHRvbi1wcmV2XCIsXHJcbiAgICB9LFxyXG4gICAgcGFnaW5hdGlvbjoge1xyXG4gICAgICBlbDogXCIucHJhY3RpY2VzLXBhZ2luYXRpb25cIixcclxuICAgIH0sXHJcbiAgICBicmVha3BvaW50czoge1xyXG4gICAgICA3Njg6IHtcclxuICAgICAgICBzbGlkZXNQZXJWaWV3OiAyLFxyXG4gICAgICB9LFxyXG4gICAgfVxyXG4gIH0pXHJcblxyXG4gIC8vIEJsb2NrIHNsaWRlciAnVGVzdGltb25pYWxzJ1xyXG4gIGNvbnN0IHNsaWRlclRlc3RpbW9uaWFscyA9IG5ldyBTd2lwZXIoJy50ZXN0aW1vbmlhbHMtc2xpZGVyJywge1xyXG4gICAgc2xpZGVzUGVyVmlldzogMSxcclxuICAgIHNwYWNlQmV0d2VlbjogMzAsXHJcbiAgICBsb29wOiB0cnVlLFxyXG4gICAgbmF2aWdhdGlvbjoge1xyXG4gICAgICBuZXh0RWw6IFwiLnRlc3RpbW9uaWFscy1idXR0b24tbmV4dFwiLFxyXG4gICAgICBwcmV2RWw6IFwiLnRlc3RpbW9uaWFscy1idXR0b24tcHJldlwiLFxyXG4gICAgfSxcclxuICAgIHBhZ2luYXRpb246IHtcclxuICAgICAgZWw6IFwiLnRlc3RpbW9uaWFscy1wYWdpbmF0aW9uXCIsXHJcbiAgICB9LFxyXG4gICAgYnJlYWtwb2ludHM6IHtcclxuICAgICAgNzY4OiB7XHJcbiAgICAgICAgc2xpZGVzUGVyVmlldzogMixcclxuICAgICAgfSxcclxuICAgICAgOTkyOiB7XHJcbiAgICAgICAgc2xpZGVzUGVyVmlldzogJ2F1dG8nLFxyXG4gICAgICAgIGNlbnRlcmVkU2xpZGVzOiB0cnVlLFxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSlcclxuXHJcbiAgLy8gQmxvY2sgc2xpZGVyICdDYXNlcydcclxuICBjb25zdCBzbGlkZXJDYXNlcyA9IG5ldyBTd2lwZXIoJy5jYXNlcy1zbGlkZXInLCB7XHJcbiAgICBzbGlkZXNQZXJWaWV3OiAxLFxyXG4gICAgc3BhY2VCZXR3ZWVuOiAzMCxcclxuICAgIG5hdmlnYXRpb246IHtcclxuICAgICAgbmV4dEVsOiBcIi5jYXNlcy1idXR0b24tbmV4dFwiLFxyXG4gICAgICBwcmV2RWw6IFwiLmNhc2VzLWJ1dHRvbi1wcmV2XCIsXHJcbiAgICB9LFxyXG4gICAgcGFnaW5hdGlvbjoge1xyXG4gICAgICBlbDogXCIuY2FzZXMtcGFnaW5hdGlvblwiLFxyXG4gICAgfSxcclxuICAgIGJyZWFrcG9pbnRzOiB7XHJcbiAgICAgIDc2ODoge1xyXG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDIsXHJcbiAgICAgIH0sXHJcbiAgICB9XHJcbiAgfSlcclxuXHJcbiAgLy8gQmxvY2sgc2xpZGVyICdTb2NpYWxzJ1xyXG4gIGNvbnN0IHNsaWRlclNvY2lhbHMgPSBuZXcgU3dpcGVyKCcuc29jaWFsc19fc2xpZGVyJywge1xyXG4gICAgc2xpZGVzUGVyVmlldzogMSxcclxuICAgIHNwYWNlQmV0d2VlbjogMzAsXHJcbiAgICBuYXZpZ2F0aW9uOiB7XHJcbiAgICAgIG5leHRFbDogXCIuc29jaWFscy1idXR0b24tbmV4dFwiLFxyXG4gICAgICBwcmV2RWw6IFwiLnNvY2lhbHMtYnV0dG9uLXByZXZcIixcclxuICAgIH0sXHJcbiAgICBwYWdpbmF0aW9uOiB7XHJcbiAgICAgIGVsOiBcIi5zb2NpYWxzLXBhZ2luYXRpb25cIixcclxuICAgIH0sXHJcbiAgICBicmVha3BvaW50czoge1xyXG4gICAgICA3Njg6IHtcclxuICAgICAgICBzbGlkZXNQZXJWaWV3OiAyLFxyXG4gICAgICB9LFxyXG4gICAgICA5OTI6IHtcclxuICAgICAgICBzbGlkZXNQZXJWaWV3OiA1LFxyXG4gICAgICB9LFxyXG4gICAgfVxyXG4gIH0pXHJcbn1cclxuXHJcbi8vIFNjcm9sbCB0byBhbmNob3JcclxubGV0IGxpbmtzU2Nyb2xsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zY3JvbGxfX2xpbmtcIik7XHJcblxyXG5mb3IgKGNvbnN0IGxpbmsgb2YgbGlua3NTY3JvbGwpIHtcclxuICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbGlja0hhbmRsZXIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjbGlja0hhbmRsZXIoZSkge1xyXG4gIGUucHJldmVudERlZmF1bHQoKTtcclxuICBjb25zdCBocmVmID0gdGhpcy5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpO1xyXG4gIGNvbnN0IG9mZnNldFRvcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaHJlZikub2Zmc2V0VG9wIC0gMTUwO1xyXG5cclxuICBzY3JvbGwoe1xyXG4gICAgdG9wOiBvZmZzZXRUb3AsXHJcbiAgICBiZWhhdmlvcjogXCJzbW9vdGhcIlxyXG4gIH0pO1xyXG59IiwiLy8gQXV0byBzaXplIHRleHRhcmVhID09PT09PlxyXG52YXIgdGV4dGFyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYScpO1xyXG5cclxuaWYgKHRleHRhcmVhKSB7XHJcbiAgdGV4dGFyZWEuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGF1dG9zaXplVGV4dGFyZWEpO1xyXG59IGVsc2Uge1xyXG4gIG51bGxcclxufVxyXG5cclxuZnVuY3Rpb24gYXV0b3NpemVUZXh0YXJlYSgpe1xyXG5cdHZhciBlbCA9IHRoaXM7XHJcblx0c2V0VGltZW91dChmdW5jdGlvbigpe1xyXG5cdFx0ZWwuc3R5bGUuY3NzVGV4dCA9ICdoZWlnaHQ6YXV0bzsgcGFkZGluZzowJztcclxuXHRcdGVsLnN0eWxlLmNzc1RleHQgPSAnLW1vei1ib3gtc2l6aW5nOmNvbnRlbnQtYm94JztcclxuXHRcdGVsLnN0eWxlLmNzc1RleHQgPSAnaGVpZ2h0OicgKyBlbC5zY3JvbGxIZWlnaHQgKyAncHgnO1xyXG5cdH0sMCk7XHJcbn1cclxuXHJcbi8vIEN1c3RvbSBzZWxlY3QgPT09PT0+XHJcbiQoJ3NlbGVjdCcpLmVhY2goZnVuY3Rpb24oKXtcclxuICB2YXIgJHRoaXMgPSAkKHRoaXMpLCBudW1iZXJPZk9wdGlvbnMgPSAkKHRoaXMpLmNoaWxkcmVuKCdvcHRpb24nKS5sZW5ndGg7XHJcblxyXG4gICR0aGlzLmFkZENsYXNzKCdzZWxlY3RfX2hpZGRlbicpOyBcclxuICAkdGhpcy53cmFwKCc8ZGl2IGNsYXNzPVwic2VsZWN0XCI+PC9kaXY+Jyk7XHJcbiAgJHRoaXMuYWZ0ZXIoJzxkaXYgY2xhc3M9XCJzZWxlY3RfX3N0eWxlZFwiPjwvZGl2PicpO1xyXG5cclxuICB2YXIgJHN0eWxlZFNlbGVjdCA9ICR0aGlzLm5leHQoJ2Rpdi5zZWxlY3RfX3N0eWxlZCcpO1xyXG4gICRzdHlsZWRTZWxlY3QuYXBwZW5kKCc8c3Bhbj48L3NwYW4+PGkgY2xhc3M9XCJpY29uLWFycm93LWRyb3Bkb3duXCI+PC9pPicpXHJcbiAgJHN0eWxlZFNlbGVjdC5maW5kKCdzcGFuJykudGV4dCgkdGhpcy5jaGlsZHJlbignb3B0aW9uJykuZXEoMCkudGV4dCgpKTtcclxuXHJcbiAgdmFyICRsaXN0ID0gJCgnPHVsIC8+Jywge1xyXG4gICAgJ2NsYXNzJzogJ3NlbGVjdF9fb3B0aW9ucydcclxuICB9KS5pbnNlcnRBZnRlcigkc3R5bGVkU2VsZWN0KTtcclxuXHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1iZXJPZk9wdGlvbnM7IGkrKykge1xyXG4gICAgJCgnPGxpIC8+Jywge1xyXG4gICAgICB0ZXh0OiAkdGhpcy5jaGlsZHJlbignb3B0aW9uJykuZXEoaSkudGV4dCgpLFxyXG4gICAgICByZWw6ICR0aGlzLmNoaWxkcmVuKCdvcHRpb24nKS5lcShpKS52YWwoKVxyXG4gICAgfSkuYXBwZW5kVG8oJGxpc3QpO1xyXG4gIH1cclxuXHJcbiAgdmFyICRsaXN0SXRlbXMgPSAkbGlzdC5jaGlsZHJlbignbGknKTtcclxuXHJcbiAgJHN0eWxlZFNlbGVjdC5jbGljayhmdW5jdGlvbihlKSB7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgJCgnZGl2LnNlbGVjdF9fc3R5bGVkLmFjdGl2ZScpLm5vdCh0aGlzKS5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpLm5leHQoJ3VsLnNlbGVjdF9fb3B0aW9ucycpLnNsaWRlVXAoMzAwKTtcclxuICAgIH0pO1xyXG4gICAgJCh0aGlzKS50b2dnbGVDbGFzcygnYWN0aXZlJykubmV4dCgndWwuc2VsZWN0X19vcHRpb25zJykuc2xpZGVUb2dnbGUoMzAwKTtcclxuICB9KTtcclxuXHJcbiAgJGxpc3RJdGVtcy5jbGljayhmdW5jdGlvbihlKSB7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgJHN0eWxlZFNlbGVjdC5maW5kKCdzcGFuJykudGV4dCgkKHRoaXMpLnRleHQoKSkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgJHRoaXMudmFsKCQodGhpcykuYXR0cigncmVsJykpO1xyXG4gICAgJGxpc3Quc2xpZGVVcCgzMDApO1xyXG4gIH0pO1xyXG5cclxuICAkKGRvY3VtZW50KS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICRzdHlsZWRTZWxlY3QucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgJGxpc3Quc2xpZGVVcCgzMDApO1xyXG4gIH0pO1xyXG5cclxufSk7Il19